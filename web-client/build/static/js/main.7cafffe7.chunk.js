(this["webpackJsonpgosh-webapp"]=this["webpackJsonpgosh-webapp"]||[]).push([[0],{149:function(e,t,s){},150:function(e,t,s){"use strict";s.r(t);var n=s(2),r=s.n(n),a=s(28),c=s.n(a),i=(s(89),s(90),s(91),s(3)),l=s(47),o=s(13),d=s(14),j=s(16),u=s(15),b=s(33),p=s.n(b),h=s(44),x=s(8),O=s(76),g=s(35),m=s(77),f=s(1);var v=function(e){return Object(f.jsxs)(O.slide,{children:[Object(f.jsx)("a",{className:"menu-item",href:"/inventory/primary-reagents/overview",children:Object(f.jsxs)("span",{children:[Object(f.jsx)(g.d,{}),"\xa0\xa0Inventory"]})}),Object(f.jsx)("a",{className:"menu-item",href:"/testhistory/all-tests/overview",children:Object(f.jsxs)("span",{children:[Object(f.jsx)(g.c,{}),"\xa0\xa0Test History"]})}),JSON.parse(localStorage.getItem("userData")).supervisor?Object(f.jsx)("a",{className:"menu-item",href:"/assays",children:Object(f.jsxs)("span",{children:[Object(f.jsx)(m.a,{}),"\xa0\xa0Assays"]})}):null,Object(f.jsx)("a",{className:"menu-item",href:"/account",children:Object(f.jsxs)("span",{children:[Object(f.jsx)(g.a,{}),"\xa0\xa0Account"]})}),Object(f.jsx)("a",{id:"signout-link",className:"menu-item",href:"/",onClick:e.logoutUser,children:"Sign Out"})]})},y=function(e){return e?void 0:"Required"},N=function(e){return e.length>=8?void 0:"Password must be at least 8 characters"},w=function(e){return/\d/.test(e)?void 0:"Password must contain at least one number"},S=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return function(e){return t.reduce((function(t,s){return t||s(e)}),void 0)}},R=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).editPassword=function(){n.setState({editPassword:!0})},n.handleSubmit=function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.props.putUser({_id:JSON.parse(localStorage.getItem("userData"))._id,password:t.confirmPassword},!0),alert("Password Successfully Changed!");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={editPassword:!1},n}return Object(d.a)(s,[{key:"render",value:function(){return Object(f.jsxs)("div",{id:"page-wrap",className:"container-fluid",children:[Object(f.jsx)(v,{pageWrapId:"page-wrap",outerContainerId:"outer-container",logoutUser:this.props.logoutUser}),Object(f.jsx)("div",{className:"row flex-fill h-100 d-flex",children:Object(f.jsxs)("div",{className:"col",children:[Object(f.jsx)("div",{style:{"z-index":"10",position:"fixed","border-bottom":"1px solid #E2E2E4","background-color":"white","margin-top":"0px",padding:"10px",width:"110%"},className:"row header",children:Object(f.jsx)("div",{className:"col my-auto ml-5",children:Object(f.jsx)("span",{className:"menu-header",children:" Account Details "})})}),Object(f.jsx)("div",{style:{"border-right":"1px solid #E2E2E4",paddingTop:"81px",paddingLeft:"18px"},className:"row",children:Object(f.jsxs)("div",{className:"col-12",children:[Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{children:Object(f.jsx)("a",{className:"account-icon",href:"/account",children:Object(f.jsx)("span",{className:"dot",style:{height:"50px",width:"50px",border:"0.5px solid rgba(229, 229, 229, 1)","background-color":"#ffffff","border-radius":"50%",display:"inline-block","box-shadow":"0px 0px 1px 0px #888888",padding:"12px","margin-right":"10px",color:"#432F87","font-weight":"600"},children:JSON.parse(localStorage.getItem("userData")).firstName.substring(0,1)+JSON.parse(localStorage.getItem("userData")).lastName.substring(0,1)})})}),Object(f.jsxs)("div",{children:[Object(f.jsx)("a",{style:{color:"black"},href:"/account",children:Object(f.jsx)("span",{style:{display:"block",fontWeight:"600",color:"#432F87"},children:this.props.auth.user.firstName+" "+this.props.auth.user.lastName})}),Object(f.jsxs)("span",{children:[this.props.auth.user.supervisor?"Supervisor Account":"Regular Account","   "]})]})]}),Object(f.jsxs)("div",{style:{marginTop:"20px"},className:"row",children:[Object(f.jsx)("div",{style:{fontWeight:"600",fontSize:"18px",color:"#432F87",padding:"0px"},className:"col-2 col-lg-1",children:"Username"}),Object(f.jsx)("div",{style:{fontSize:"20px"},className:"col",children:this.props.auth.user.username})]}),Object(f.jsxs)("div",{style:{marginTop:"10px"},className:"row",children:[Object(f.jsx)("div",{style:{fontWeight:"600",fontSize:"18px",color:"#432F87",padding:"0px"},className:"col-2 col-lg-1",children:"Password"}),Object(f.jsx)("div",{style:{fontSize:"18px"},className:"col-3 col-md-2 col-xl-1",children:"**********"}),Object(f.jsx)("div",{style:{fontSize:"18px"},className:"col-1 text-center",children:Object(f.jsx)("button",{style:{backgroundColor:"#432F87",border:"none",borderRadius:"5px",boxShadow:"0px 0px 3px 0px grey",color:"white",padding:"2px 10px 2px 10px"},onClick:this.editPassword,children:"Edit"})})]}),this.state.editPassword?Object(f.jsx)(x.b,{onSubmit:this.handleSubmit,render:function(e){var t,s=e.handleSubmit,n=(e.form,e.submitting),r=(e.pristine,e.values);return Object(f.jsxs)("form",{onSubmit:s,children:[Object(f.jsx)(x.a,{name:"newPassword",validate:S(y,w,N),children:function(e){var t=e.input,s=e.meta;return Object(f.jsxs)("div",{style:{marginTop:"10px"},className:"row",children:[Object(f.jsx)("div",{style:{fontWeight:"600",fontSize:"18px",color:"#432F87",padding:"0px"},className:"col-2 col-lg-1",children:"New Password"}),Object(f.jsxs)("div",{className:"col",children:[Object(f.jsx)("input",Object(i.a)(Object(i.a)({style:{width:"230px",border:"none",borderRadius:"5px",height:"30px",boxShadow:"0px 0px 3px 0px lightgrey"}},t),{},{type:"password",placeholder:"New Password"})),s.error&&s.submitFailed&&Object(f.jsx)("span",{style:{marginLeft:"10px",color:"red"},className:"error",children:s.error})]})]})}}),Object(f.jsx)(x.a,{name:"confirmPassword",validate:S(y,(t=r.newPassword,function(e){return e==t?void 0:"Passwords do not match"})),children:function(e){var t=e.input,s=e.meta;return Object(f.jsxs)("div",{style:{marginTop:"10px"},className:"row",children:[Object(f.jsx)("div",{style:{fontWeight:"600",fontSize:"18px",color:"#432F87",padding:"0px"},className:"col-2 col-lg-1",children:"Confirm"}),Object(f.jsxs)("div",{className:"col",children:[Object(f.jsx)("input",Object(i.a)(Object(i.a)({style:{width:"230px",border:"none",borderRadius:"5px",height:"30px",boxShadow:"0px 0px 3px 0px lightgrey"}},t),{},{type:"password",placeholder:"Confirm New Password"})),s.error&&s.submitFailed&&Object(f.jsx)("span",{style:{marginLeft:"10px",color:"red"},className:"error",children:s.error})]})]})}}),Object(f.jsx)("div",{className:"mt-3 row",children:Object(f.jsx)("div",{style:{fontSize:"18px"},className:"col offset-2 offset-lg-1",children:Object(f.jsx)("button",{style:{backgroundColor:"#432F87",border:"none",borderRadius:"5px",boxShadow:"0px 0px 3px 0px grey",color:"white",padding:"2px 10px 2px 10px"},type:"submit",disabled:n,children:"Save Password"})})})]})}}):Object(f.jsx)("div",{})]})})]})})]})}}]),s}(n.Component),E=s(19),T=s(12),C=s.p+"static/media/home.8cbbaa71.svg",k=function(e){return e?void 0:"Required"},D=function(e){var t=(Object(E.g)().state||{from:{pathname:"/"}}).from,s=Object(n.useState)(!1),r=Object(T.a)(s,2),a=r[0],c=r[1];if(a)return e.fetchReagents(),e.fetchDeletedReagents(),e.fetchSecReagents(),e.fetchDeletedSecReagents(),e.fetchTests(),e.fetchTestTypes(),e.checkJWTToken(),1==JSON.parse(localStorage.getItem("userData")).admin?(e.fetchUsers(),Object(f.jsx)(E.a,{to:"/admin"})):Object(f.jsx)(E.a,{to:t});return e.auth.isAuthenticated?void c(!0):Object(f.jsx)("div",{className:"container-fluid login-page",children:Object(f.jsxs)("div",{className:"row min-vh-100",children:[Object(f.jsx)("div",{style:{backgroundColor:"white"},className:"col-lg-4 my-auto text-center",children:Object(f.jsx)("div",{className:"row min-vh-100",children:Object(f.jsxs)("div",{className:"col my-auto",children:[Object(f.jsx)("span",{style:{fontSize:"40px",color:"#432F87",fontWeight:"700",display:"block"},children:"DRIVE"}),Object(f.jsx)("span",{style:{fontSize:"20px",color:"#432F87",fontWeight:"500",display:"inline-block"},children:" LabAssist "}),Object(f.jsx)(x.b,{onSubmit:function(t){e.loginUser({username:t.username,password:t.password})},render:function(e){var t=e.handleSubmit,s=(e.form,e.submitting),n=e.pristine;e.values;return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)("form",{id:"loginForm",onSubmit:t,children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsx)(x.a,{name:"username",component:"input",type:"text",validate:k,children:function(e){var t=e.input,s=e.meta;return Object(f.jsxs)("div",{className:"col-12",children:[Object(f.jsx)("input",Object(i.a)(Object(i.a)({},t),{},{placeholder:"Username",className:"login-input"})),s.error&&s.touched&&Object(f.jsxs)("span",{style:{textAlign:"left",color:"red"},className:"error",children:[Object(f.jsx)("br",{}),s.error]})]})}})}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)(x.a,{name:"password",component:"input",type:"password",validate:k,children:function(e){var t=e.input,s=e.meta;return Object(f.jsxs)("div",{className:"col-12",children:[Object(f.jsx)("input",Object(i.a)(Object(i.a)({},t),{},{placeholder:"Password",className:"login-input"})),s.error&&s.touched&&Object(f.jsxs)("span",{style:{textAlign:"left",color:"red"},className:"error",children:[Object(f.jsx)("br",{}),s.error]})]})}})}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-12",children:Object(f.jsx)("button",{className:"submit-button",type:"submit",disabled:s||n,children:"Login"})})})]})})})})}}),"Error 401: Unauthorized"==e.auth.errMess?Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"container",children:Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{style:{paddingLeft:"20%",paddingRight:"20%",paddingTop:"10%"},className:"col-12 text-center",children:Object(f.jsx)("div",{style:{height:"100px",backgroundColor:"rgba(255,0,0, 0.6)",width:"100%",borderRadius:"5px",color:"white",fontSize:"18px",fontWeight:"500",padding:"5%"},children:Object(f.jsx)("span",{children:"You have entered an invalid username or password"})})})})})}):null]})})}),Object(f.jsx)("div",{id:"login-right",className:"col-8 my-auto d-none d-md-block text-center",children:Object(f.jsx)("img",{src:C,height:"60%",width:"60%",alt:"image"})})]})})},F=s(154),P=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))/,A=function(e){return e?void 0:"Required"},M=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return function(e){return t.reduce((function(t,s){return t||s(e)}),void 0)}},L=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).handleSubmit=function(e){var t={username:e.username,password:e.password,supervisor:"supervisor"==e.role,admin:"admin"==e.role,firstName:e.firstName,lastName:e.lastName};n.props.postUser(t),n.props.handleModalClose()},n}return Object(d.a)(s,[{key:"render",value:function(){var e=this;return Object(f.jsxs)(F.a,{show:this.props.isModalOpen,onHide:this.props.handleModalClose,children:[Object(f.jsx)(F.a.Header,{closeButton:!0,children:Object(f.jsx)("h4",{children:"Add New User"})}),Object(f.jsx)(F.a.Body,{children:Object(f.jsx)("div",{className:"col-12",children:Object(f.jsx)(x.b,{onSubmit:this.handleSubmit,render:function(t){var s,n=t.handleSubmit,r=t.form,a=t.submitting,c=t.pristine,l=t.values;return Object(f.jsx)("div",{className:"container-fluid",children:Object(f.jsx)("div",{className:"row ml-2 mt-2",children:Object(f.jsxs)("form",{id:"addUserForm",onSubmit:n,children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{children:"User Role"}),Object(f.jsxs)(x.a,{name:"role",component:"select",defaultValue:"regular",children:[Object(f.jsx)("option",{selected:!0,value:"regular",children:"Regular User"}),Object(f.jsx)("option",{value:"supervisor",children:"Supervisor User"}),Object(f.jsx)("option",{value:"admin",children:"Admin"})]})]})}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)(x.a,{name:"username",component:"input",type:"text",validate:M(A,(s=l.role,function(e){if("admin"!=s){var t=e.split("@");return P.test(t[0])&&"gosh.nhs.uk"==t[1]?void 0:"Username must be a @gosh.nhs.uk email"}})),children:function(e){var t=e.input,s=e.meta;return Object(f.jsxs)("div",{className:"col-12",children:[Object(f.jsx)("label",{children:"Username"}),Object(f.jsx)("input",Object(i.a)(Object(i.a)({},t),{},{placeholder:"Username"})),s.error&&s.submitFailed&&Object(f.jsx)("span",{children:s.error})]})}})}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)(x.a,{name:"password",component:"input",type:"password",validate:A,children:function(e){var t=e.input,s=e.meta;return Object(f.jsxs)("div",{className:"col-12",children:[Object(f.jsx)("label",{children:"Password"}),Object(f.jsx)("input",Object(i.a)(Object(i.a)({},t),{},{placeholder:"Password"})),s.error&&s.submitFailed&&Object(f.jsx)("span",{children:s.error})]})}})}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)(x.a,{name:"firstName",component:"input",type:"text",validate:A,children:function(e){var t=e.input,s=e.meta;return Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{children:"First Name"}),Object(f.jsx)("input",Object(i.a)(Object(i.a)({},t),{},{placeholder:"First Name"})),s.error&&s.submitFailed&&Object(f.jsx)("span",{children:s.error})]})}}),Object(f.jsx)(x.a,{name:"lastName",component:"input",type:"text",validate:A,children:function(e){var t=e.input,s=e.meta;return Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{children:"Last Name"}),Object(f.jsx)("input",Object(i.a)(Object(i.a)({},t),{},{placeholder:"Last Name"})),s.error&&s.submitFailed&&Object(f.jsx)("span",{children:s.error})]})}})]}),Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("div",{className:"col-12",children:[Object(f.jsx)("button",{class:"cancel-button",type:"button",onClick:function(){e.props.handleModalClose(),r.getRegisteredFields().map((function(e){return r.resetFieldState(e)}))},children:"Cancel"}),Object(f.jsx)("button",{class:"submit-button",type:"submit",disabled:a||c,children:"Add User"})]})})]})})})}})})})]})}}]),s}(n.Component),_=s(6),U=s(7),I=function(e){return e?void 0:"Required"},B=function(e){return e.length>=8?void 0:"Password must be at least 8 characters"},z=function(e){return/\d/.test(e)?void 0:"Password must contain at least one number"},H=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return function(e){return t.reduce((function(t,s){return t||s(e)}),void 0)}},G=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).handleSubmit=function(e){n.props.putUser({_id:n.props.selectedUser._id,password:e.confirmPassword},!0),n.props.handleModalClose(),alert("Password Successfully Changed!")},n}return Object(d.a)(s,[{key:"render",value:function(){var e=this;return Object(f.jsxs)(F.a,{show:this.props.isModalOpen,onHide:this.props.handleModalClose,children:[Object(f.jsx)(F.a.Header,{closeButton:!0,children:Object(f.jsxs)("h4",{children:["Reset Password for ",this.props.selectedUser?this.props.selectedUser.username:""]})}),Object(f.jsx)(F.a.Body,{children:Object(f.jsx)("div",{className:"col-12",children:Object(f.jsx)(x.b,{onSubmit:this.handleSubmit,render:function(t){var s,n=t.handleSubmit,r=t.form,a=t.submitting,c=t.pristine,l=t.values;return Object(f.jsx)("div",{className:"container-fluid",children:Object(f.jsx)("div",{className:"row ml-2 mt-2",children:Object(f.jsx)("div",{className:"container-fluid",children:Object(f.jsxs)("form",{id:"addUserForm",onSubmit:n,children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsx)(x.a,{name:"newPassword",component:"input",type:"password",validate:H(I,B,z),children:function(e){var t=e.input,s=e.meta;return Object(f.jsxs)("div",{className:"col-12",children:[Object(f.jsx)("label",{children:"New Password"}),Object(f.jsx)("input",Object(i.a)(Object(i.a)({},t),{},{placeholder:"New Password"})),s.error&&s.submitFailed&&Object(f.jsx)("span",{children:s.error})]})}})}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)(x.a,{name:"confirmPassword",component:"input",type:"password",validate:H(I,(s=l.newPassword,function(e){return e==s?void 0:"Passwords do not match"})),children:function(e){var t=e.input,s=e.meta;return Object(f.jsxs)("div",{className:"col-12",children:[Object(f.jsx)("label",{children:"Confirm Password"}),Object(f.jsx)("input",Object(i.a)(Object(i.a)({},t),{},{placeholder:"Confirm Password"})),s.error&&s.submitFailed&&Object(f.jsx)("span",{children:s.error})]})}})}),Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("div",{className:"col-12",children:[Object(f.jsx)("button",{className:"cancel-button",type:"button",onClick:function(){e.props.handleModalClose(),r.getRegisteredFields().map((function(e){return r.resetFieldState(e)}))},children:"Cancel"}),Object(f.jsx)("button",{className:"submit-button",type:"submit",disabled:a||c,children:"Change Password"})]})})]})})})})}})})})]})}}]),s}(n.Component),V=s(79),J=s.n(V),q=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).showDeleted=function(){n.state.deactivated?(localStorage.setItem("showDeletedUsers",!1),n.setState({usersRenderList:n.props.users.filter((function(e){return"ACTIVE"==e.status})),deactivated:!1})):(localStorage.setItem("showDeletedUsers",!0),n.setState({usersRenderList:n.props.users.filter((function(e){return"ACTIVE"!=e.status})),deactivated:!0}))},n.handleChange=function(e){var t=n.state.users.slice();n.state.deactivated?n.setState({usersRenderList:t.filter((function(t){return t.username.includes(e.target.value)&&"ACTIVE"!=t.status}))}):n.setState({usersRenderList:t.filter((function(t){return t.username.includes(e.target.value)&&"ACTIVE"==t.status}))})},n.changeUserRole=function(e,t){var s={_id:e._id,supervisor:"Supervisor User"==t.target.value};n.props.putUser(s)},n.deleteUser=function(e){var t={_id:e._id,status:"DELETED"};n.props.putUser(t)},n.reActivateUser=function(e){var t={_id:e._id,status:"ACTIVE"};n.props.putUser(t)},n.handleAddUserModalShow=function(){n.setState({isAddUserModalOpen:!0})},n.handleAddUserModalClose=function(){n.setState({isAddUserModalOpen:!1})},n.handlePasswordModalShow=function(e){n.setState({isPasswordModalOpen:!0,selectedUser:e})},n.handlePasswordModalClose=function(){n.setState({isPasswordModalOpen:!1})},n.state={users:n.props.users,usersRenderList:"true"==localStorage.getItem("showDeletedUsers")?n.props.users.filter((function(e){return"ACTIVE"!=e.status})):n.props.users.filter((function(e){return"ACTIVE"==e.status})),isAddUserModalOpen:!1,isPasswordModalOpen:!1,selectedUser:null,deactivated:"false"!=localStorage.getItem("showDeletedUsers")},n}return Object(d.a)(s,[{key:"render",value:function(){var e=this;return this.props.users.isLoading&&(this.props.logoutUser,_.a,U.g),Object(f.jsxs)("div",{id:"page-wrap",className:"container-fluid",children:[Object(f.jsx)("div",{className:"row flex-fill h-100 d-flex",children:Object(f.jsxs)("div",{className:"col",children:[Object(f.jsx)("div",{style:{"z-index":"10",position:"fixed","border-bottom":"1px solid #E2E2E4","background-color":"white","margin-top":"0px",padding:"10px",width:"110%"},className:"row header",children:Object(f.jsx)("div",{className:"col my-auto ml-2",children:Object(f.jsxs)("a",{href:"/",onClick:this.props.logoutUser,children:[Object(f.jsx)(_.a,{style:{verticalAlign:"middle"},icon:U.g,size:"lg",rotation:180}),Object(f.jsx)("span",{style:{verticalAlign:"middle"},className:"menu-header",children:" Sign Out "})]})})}),Object(f.jsx)("div",{style:{"border-right":"1px solid #E2E2E4",paddingTop:"81px",paddingLeft:"10px"},className:"row",children:Object(f.jsx)("div",{className:"col-lg-8 col-xl-6 ml-2",children:Object(f.jsxs)("div",{className:"container-fluid",children:[Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("span",{style:{color:"#432F87",fontSize:"20px"},children:"User Management"}),Object(f.jsxs)("span",{children:[Object(f.jsx)(_.a,{style:{marginLeft:"30px"},icon:U.f,size:"sm"}),Object(f.jsx)("input",{style:{border:"1px solid lightgrey",borderRadius:"4px",marginLeft:"5px",marginRight:"10px"},type:"text",onChange:function(t){return e.handleChange(t)}})]}),Object(f.jsx)("span",{children:Object(f.jsx)(J.a,{checkedIcon:null,uncheckedIcon:null,offColor:"#66CDAA",onColor:"#888",onChange:this.showDeleted,checked:this.state.deactivated})}),Object(f.jsx)("span",{className:"ml-auto",children:Object(f.jsxs)("a",{style:{color:"#432F87"},type:"button",onClick:this.handleAddUserModalShow,children:[Object(f.jsx)(_.a,{icon:U.e,size:"sm"})," ",Object(f.jsx)("span",{className:"d-none d-sm-inline",children:"Add New User"})]})})]}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("ul",{style:{width:"100%"},className:"list-unstyled",children:this.state.usersRenderList.map((function(t){if(t.username!=JSON.parse(localStorage.getItem("userData")).username)return Object(f.jsx)("li",{children:"DELETED"!=t.status?Object(f.jsxs)("div",{style:{border:"1px solid lightgrey",padding:"20px",borderRadius:"7px",backgroundColor:"white",boxShadow:"0px 0px 3px 0px lightgrey"},className:"user-card",children:[Object(f.jsx)("span",{children:t.username}),Object(f.jsx)("span",{className:"float-right",children:t.admin?Object(f.jsx)("span",{children:"Admin"}):Object(f.jsxs)("select",{style:{borderRadius:"3px",height:"27px"},onChange:function(s){return e.changeUserRole(t,s)},children:[Object(f.jsx)("option",{selected:t.supervisor&&!t.admin?"selected":"",children:"Supervisor User"}),Object(f.jsx)("option",{selected:t.supervisor||t.admin?"":"selected",children:"Regular User"})]})}),Object(f.jsx)("span",{style:{float:"right",height:"27px",border:"1px solid #432F87",backgroundColor:"#432F87",color:"white",borderRadius:"3px",padding:"0px 5px 0px 5px","margin-left":"10px","margin-right":"10px"},children:Object(f.jsx)("a",{onClick:function(){return e.handlePasswordModalShow(t)},type:"button",children:"Reset Password"})}),Object(f.jsx)("span",{style:{float:"right",height:"27px",borderRadius:"3px",color:"#432F87",padding:"0px 3px 0px 3px","margin-left":"10px","margin-right":"10px"},children:Object(f.jsx)("a",{onClick:function(){return e.deleteUser(t)},type:"button",children:Object(f.jsx)(_.a,{style:{verticalAlign:"middle"},icon:U.i,size:"lg"})})})]},t._id):Object(f.jsxs)("div",{style:{border:"1px solid lightgrey",padding:"20px",borderRadius:"7px",backgroundColor:"#E2E2E4",boxShadow:"0px 0px 3px 0px lightgrey"},className:"user-card",children:[Object(f.jsx)("span",{children:t.username}),Object(f.jsx)("span",{style:{float:"right",height:"27px",border:"1px solid grey",backgroundColor:"grey",color:"lightgrey",borderRadius:"3px",padding:"0px 3px 0px 3px","margin-left":"10px","margin-right":"10px"},children:Object(f.jsx)("a",{type:"button",children:"Reset Password"})}),Object(f.jsx)("span",{style:{float:"right",height:"27px",border:"1px solid #432F87",borderRadius:"3px",backgroundColor:"#432F87",color:"white",padding:"0px 3px 0px 3px","margin-left":"10px","margin-right":"10px"},children:Object(f.jsx)("a",{onClick:function(){return e.reActivateUser(t)},type:"button",children:"Reactivate"})})]},t._id)},t._id)}))})})]})})})]})}),Object(f.jsx)(L,{isModalOpen:this.state.isAddUserModalOpen,handleModalClose:this.handleAddUserModalClose,handleModalShow:this.handleAddUserModalShow,postUser:this.props.postUser}),Object(f.jsx)(G,{isModalOpen:this.state.isPasswordModalOpen,handleModalClose:this.handlePasswordModalClose,handleModalOpen:this.handlePasswordModalShow,putUser:this.props.putUser,selectedUser:this.state.selectedUser})]})}}]),s}(n.Component),W=s(38),K=s(60),Y=s(17),Q=s(9),X=s(153),Z=s(11),$=[{Header:function(){return null},id:"expander",Cell:function(e){var t=e.row;return Object(f.jsx)("span",Object(i.a)(Object(i.a)({},t.getToggleRowExpandedProps()),{},{children:t.isExpanded?Object(f.jsx)(Z.c,{}):Object(f.jsx)(Z.d,{})}))}},{Header:"Assay Name",accessor:"assayName"},{Header:"Batch Nr",accessor:"batchNr"},{Header:"Date and Time",accessor:"createdAt",Cell:function(e){var t=e.value;return Object(X.a)(new Date(t),"dd/MM/yyyy")}},{Header:"Conducted By",accessor:"conductedBy"},{Header:"Updated At",accessor:"updatedAt"}];s(32);var ee=function(e){var t=e.filter,s=e.setFilter;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{children:Object(f.jsx)(W.b,{})}),Object(f.jsx)("span",{children:Object(f.jsx)("input",{value:t||"",onChange:function(e){return s(e.target.value)},id:"searchBar",type:"search",name:"search",placeholder:"Search anything..."})})]})},te=r.a.forwardRef((function(e,t){var s=e.indeterminate,n=Object(l.a)(e,["indeterminate"]),a=r.a.useRef(),c=t||a;return r.a.useEffect((function(){c.current.indeterminate=s}),[c,s]),Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("input",Object(i.a)({type:"checkbox",ref:c},n))})})),se=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(e){return Object(o.a)(this,s),t.call(this,e)}return Object(d.a)(s,[{key:"render",value:function(){return Object(f.jsxs)("div",{className:"container-fluid",children:[Object(f.jsxs)("div",{style:{padding:"20px"},className:"row",children:[Object(f.jsxs)("div",{style:{borderRight:"1px solid lightgrey"},className:"col-6",children:[Object(f.jsx)("div",{className:"row reagent-card-value",children:Object(f.jsx)("div",{className:"col",children:Object(f.jsx)("h4",{children:"Reagents"})})}),this.props.testValues.reagents?this.props.testValues.reagents.map((function(e){return Object(f.jsxs)("div",{className:"row reagent-card-value",children:[Object(f.jsx)("div",{className:"col",children:Object(f.jsx)("b",{children:e.label})}),Object(f.jsx)("div",{className:"col",children:e.lotNr})]})})):""]}),Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("div",{className:"row reagent-card-value",children:Object(f.jsx)("div",{className:"col",children:Object(f.jsx)("h4",{children:"Reagent Data"})})}),this.props.testValues.reagentData?this.props.testValues.reagentData.map((function(e){return Object(f.jsxs)("div",{className:"row reagent-card-value",children:[Object(f.jsx)("div",{className:"col",children:Object(f.jsx)("b",{children:e.label})}),Object(f.jsx)("div",{className:"col",children:"date"==e.type?null!=e.value?Object(X.a)(new Date(e.value),"dd/MM/yyyy"):"":e.value})]})})):""]})]}),Object(f.jsxs)("div",{style:{padding:"20px",borderTop:"1px solid lightgrey"},className:"row",children:[Object(f.jsxs)("div",{style:{borderRight:"1px solid lightgrey"},className:"col-6",children:[Object(f.jsx)("div",{className:"row reagent-card-value",children:Object(f.jsx)("div",{className:"col",children:Object(f.jsx)("h4",{children:"Other Data"})})}),this.props.testValues.other?this.props.testValues.other.map((function(e){return Object(f.jsxs)("div",{className:"row reagent-card-value",children:[Object(f.jsx)("div",{className:"col",children:Object(f.jsx)("b",{children:e.label})}),Object(f.jsx)("div",{className:"col",children:"date"==e.type?null!=e.value?Object(X.a)(new Date(e.value),"dd/MM/yyyy"):"":e.value})]})})):""]}),Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("div",{className:"row reagent-card-value",children:Object(f.jsx)("div",{className:"col",children:Object(f.jsx)("h4",{children:"Equipment"})})}),this.props.testValues.equipment?this.props.testValues.equipment.map((function(e,t){return Object(f.jsx)("div",{className:"row reagent-card-value",children:Object(f.jsx)("div",{className:"col",children:String(t+1)+". "+e.eqptNr})})})):""]})]})]})}}]),s}(n.Component),ne=s(24),re=s.n(ne),ae=function(e){var t=Object(n.useMemo)((function(){return $}),[]),s=Object(n.useState)(e.tests,[]),a=Object(T.a)(s,2),c=a[0],l=(a[1],Object(Q.useTable)({columns:t,data:c,initialState:{sortBy:[{id:"createdAt",desc:!0}],groupBy:["lotNr"],hiddenColumns:["updatedAt"]}},Q.useGlobalFilter,Q.useSortBy,Q.useExpanded,Q.useRowSelect,(function(e){e.visibleColumns.push((function(e){return[].concat(Object(Y.a)(e),[{id:"selection",Header:function(e){var t=e.getToggleAllRowsSelectedProps;return Object(f.jsx)(te,Object(i.a)({},t()))},Cell:function(e){var t=e.row;return Object(f.jsx)(te,Object(i.a)({},t.getToggleRowSelectedProps()))}}])}))}))),o=l.getTableProps,d=l.getTableBodyProps,j=l.headerGroups,u=l.rows,b=l.prepareRow,p=l.state,h=l.setGlobalFilter,x=l.selectedFlatRows,O=l.visibleColumns,g=p.globalFilter,m=Object(n.useState)(""),v=Object(T.a)(m,2),y=(v[0],v[1],function(){x.forEach((function(t){var s={_id:t.original._id,status:"DELETED"};e.putTest(s)}))}),N=r.a.useCallback((function(e){var t=e.row;return Object(f.jsx)(se,{testValues:t.original})}));return e.testsLoading?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"row header table",children:[Object(f.jsx)("div",{className:"col-12 col-lg-6",children:Object(f.jsx)(ee,{filter:g,setFilter:h})}),Object(f.jsx)("div",{style:{"padding-right":"20px"},className:"col-2 ml-auto text-right"})]}),Object(f.jsx)("div",{className:"table-container row",children:Object(f.jsx)("div",{style:{"padding-top":"100px","padding-bottom":"0px","padding-left":"0px","padding-right":"10px"},className:"col-11 text-center",children:Object(f.jsx)(re.a,{type:"TailSpin",color:"rgba(67, 47, 135, 0.9)",height:50,width:50,timeout:3e3})})})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"row header table",children:[Object(f.jsx)("div",{className:"col-12 col-lg-6",children:Object(f.jsx)(ee,{filter:g,setFilter:h})}),Object(f.jsx)("div",{style:{"padding-right":"20px"},className:"col-2 ml-auto text-right"})]}),x[0]?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"action-button-row row d-lg-none float-left",children:Object(f.jsx)("div",{className:"col-2 col-md-1",children:Object(f.jsx)("a",{type:"button",onClick:y,className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.i,color:"grey",size:"lg"})})})}),Object(f.jsx)("div",{className:"row proxy-row d-lg-none"})]}):null,Object(f.jsxs)("div",{className:"table-container row",children:[Object(f.jsx)("div",{style:{"padding-top":"10px","padding-bottom":"0px","padding-left":"0px","padding-right":"10px"},className:"col-12 col-lg-11",children:Object(f.jsxs)("table",Object(i.a)(Object(i.a)({},o()),{},{children:[Object(f.jsx)("thead",{children:j.map((function(e){return Object(f.jsx)("tr",Object(i.a)(Object(i.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(f.jsxs)("th",Object(i.a)(Object(i.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(f.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(f.jsx)(Z.a,{}):Object(f.jsx)(Z.b,{}):""})]}))}))}))}))}),Object(f.jsx)("tbody",Object(i.a)(Object(i.a)({},d()),{},{children:u.map((function(e,t){return b(e),Object(f.jsxs)(r.a.Fragment,Object(i.a)(Object(i.a)({},e.getRowProps()),{},{children:[Object(f.jsx)("tr",{children:e.cells.map((function(e){return Object(f.jsx)("td",Object(i.a)(Object(i.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}),e.isExpanded?Object(f.jsx)("tr",{children:Object(f.jsx)("td",{colSpan:O.length,children:N({row:e})})}):null]}))}))}))]}))}),Object(f.jsx)("div",{className:"col-1 text-center button-col",children:x[0]?Object(f.jsx)("ul",{className:"list-unstyled d-none d-lg-block",children:Object(f.jsxs)("li",{children:[Object(f.jsx)("div",{children:Object(f.jsx)("a",{type:"button",onClick:y,className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.i,color:"grey",size:"lg"})})}),Object(f.jsx)("div",{className:"subtitle",children:"Delete"})]})}):null})]})]})},ce=function(e){var t=Object(n.useMemo)((function(){return $}),[]),s=Object(n.useState)(e.deletedTests,[]),a=Object(T.a)(s,2),c=a[0],l=(a[1],Object(Q.useTable)({columns:t,data:c,initialState:{sortBy:[{id:"updatedAt",desc:!0}],groupBy:["lotNr"],hiddenColumns:["updatedAt"]}},Q.useGlobalFilter,Q.useSortBy,Q.useExpanded,Q.useRowSelect,(function(e){e.visibleColumns.push((function(e){return[].concat(Object(Y.a)(e),[{id:"selection",Header:function(e){var t=e.getToggleAllRowsSelectedProps;return Object(f.jsx)(te,Object(i.a)({},t()))},Cell:function(e){var t=e.row;return Object(f.jsx)(te,Object(i.a)({},t.getToggleRowSelectedProps()))}}])}))}))),o=l.getTableProps,d=l.getTableBodyProps,j=l.headerGroups,u=l.rows,b=l.prepareRow,p=l.state,h=l.setGlobalFilter,x=l.selectedFlatRows,O=l.visibleColumns,g=p.globalFilter,m=Object(n.useState)(""),v=Object(T.a)(m,2),y=(v[0],v[1],function(){x.forEach((function(t){var s={_id:t.original._id,status:"OK"};e.putTest(s)}))}),N=r.a.useCallback((function(e){var t=e.row;return Object(f.jsx)(se,{testValues:t.original})}));return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"row header table",children:[Object(f.jsx)("div",{className:"col-12 col-lg-6",children:Object(f.jsx)(ee,{filter:g,setFilter:h})}),Object(f.jsx)("div",{style:{"padding-right":"20px"},className:"col-2 ml-auto text-right"})]}),x[0]?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"action-button-row row d-lg-none float-left",children:Object(f.jsx)("div",{className:"col-2 col-md-1",children:Object(f.jsx)("a",{type:"button",onClick:y,style:{backgroundColor:"rgba(67, 47, 135, 0.9)",boxShadow:"0px 0px 5px 0px rgba(67, 47, 135, 0.9)"},className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.j,color:"white",size:"lg"})})})}),Object(f.jsx)("div",{className:"row proxy-row d-lg-none"})]}):null,Object(f.jsxs)("div",{className:"table-container row",children:[Object(f.jsx)("div",{style:{"padding-top":"10px","padding-bottom":"0px","padding-left":"0px","padding-right":"10px"},className:"col-12 col-lg-11",children:Object(f.jsxs)("table",Object(i.a)(Object(i.a)({},o()),{},{children:[Object(f.jsx)("thead",{children:j.map((function(e){return Object(f.jsx)("tr",Object(i.a)(Object(i.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(f.jsxs)("th",Object(i.a)(Object(i.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(f.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(f.jsx)(Z.a,{}):Object(f.jsx)(Z.b,{}):""})]}))}))}))}))}),Object(f.jsx)("tbody",Object(i.a)(Object(i.a)({},d()),{},{children:u.map((function(e,t){return b(e),Object(f.jsxs)(r.a.Fragment,Object(i.a)(Object(i.a)({},e.getRowProps()),{},{children:[Object(f.jsx)("tr",{children:e.cells.map((function(e){return Object(f.jsx)("td",Object(i.a)(Object(i.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}),e.isExpanded?Object(f.jsx)("tr",{children:Object(f.jsx)("td",{colSpan:O.length,children:N({row:e})})}):null]}))}))}))]}))}),Object(f.jsx)("div",{className:"col-1 text-center button-col d-none d-lg-block",children:x[0]?Object(f.jsx)("ul",{className:"list-unstyled",children:Object(f.jsxs)("li",{children:[Object(f.jsx)("div",{className:"textCenter",children:Object(f.jsx)("a",{type:"button",onClick:y,style:{backgroundColor:"rgba(67, 47, 135, 0.9)",boxShadow:"0px 0px 5px 0px rgba(67, 47, 135, 0.9)"},className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.j,color:"white",size:"lg"})})}),Object(f.jsx)("div",{className:"subtitle",children:"Restore"})]})}):null})]})]})},ie=function(e){var t=Object(n.useMemo)((function(){return $}),[]),s=Object(n.useState)(e.myTests,[]),a=Object(T.a)(s,2),c=a[0],l=(a[1],Object(Q.useTable)({columns:t,data:c,initialState:{sortBy:[{id:"createdAt",desc:!0}],groupBy:["lotNr"],hiddenColumns:["updatedAt"]}},Q.useGlobalFilter,Q.useSortBy,Q.useExpanded,Q.useRowSelect,(function(e){e.visibleColumns.push((function(e){return[].concat(Object(Y.a)(e),[{id:"selection",Header:function(e){var t=e.getToggleAllRowsSelectedProps;return Object(f.jsx)(te,Object(i.a)({},t()))},Cell:function(e){var t=e.row;return Object(f.jsx)(te,Object(i.a)({},t.getToggleRowSelectedProps()))}}])}))}))),o=l.getTableProps,d=l.getTableBodyProps,j=l.headerGroups,u=l.rows,b=l.prepareRow,p=l.state,h=l.setGlobalFilter,x=l.selectedFlatRows,O=l.visibleColumns,g=p.globalFilter,m=Object(n.useState)(""),v=Object(T.a)(m,2),y=(v[0],v[1],function(){x.forEach((function(t){var s={_id:t.original._id,status:"DELETED"};e.putTest(s)}))}),N=r.a.useCallback((function(e){var t=e.row;return Object(f.jsx)(se,{testValues:t.original})}));return e.testsLoading?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"row header table",children:[Object(f.jsx)("div",{className:"col-6",children:Object(f.jsx)(ee,{filter:g,setFilter:h})}),Object(f.jsx)("div",{style:{"padding-right":"20px"},className:"col-2 ml-auto text-right"})]}),Object(f.jsx)("div",{className:"table-container row",children:Object(f.jsx)("div",{style:{"padding-top":"100px","padding-bottom":"0px","padding-left":"0px","padding-right":"10px"},className:"col-11 text-center",children:Object(f.jsx)(re.a,{type:"TailSpin",color:"rgba(67, 47, 135, 0.9)",height:50,width:50,timeout:3e3})})})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"row header table",children:[Object(f.jsx)("div",{className:"col-12 col-lg-6",children:Object(f.jsx)(ee,{filter:g,setFilter:h})}),Object(f.jsx)("div",{style:{"padding-right":"20px"},className:"col-2 ml-auto text-right"})]}),x[0]?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"action-button-row row d-lg-none float-left",children:Object(f.jsx)("div",{className:"col-2 col-md-1",children:Object(f.jsx)("a",{type:"button",onClick:y,className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.i,color:"grey",size:"lg"})})})}),Object(f.jsx)("div",{className:"row proxy-row d-lg-none"})]}):null,Object(f.jsxs)("div",{className:"table-container row",children:[Object(f.jsx)("div",{style:{"padding-top":"10px","padding-bottom":"0px","padding-left":"0px","padding-right":"10px"},className:"col-12 col-lg-11",children:Object(f.jsxs)("table",Object(i.a)(Object(i.a)({},o()),{},{children:[Object(f.jsx)("thead",{children:j.map((function(e){return Object(f.jsx)("tr",Object(i.a)(Object(i.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(f.jsxs)("th",Object(i.a)(Object(i.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(f.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(f.jsx)(Z.a,{}):Object(f.jsx)(Z.b,{}):""})]}))}))}))}))}),Object(f.jsx)("tbody",Object(i.a)(Object(i.a)({},d()),{},{children:u.map((function(e,t){return b(e),Object(f.jsxs)(r.a.Fragment,Object(i.a)(Object(i.a)({},e.getRowProps()),{},{children:[Object(f.jsx)("tr",{children:e.cells.map((function(e){return Object(f.jsx)("td",Object(i.a)(Object(i.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}),e.isExpanded?Object(f.jsx)("tr",{children:Object(f.jsx)("td",{colSpan:O.length,children:N({row:e})})}):null]}))}))}))]}))}),Object(f.jsx)("div",{className:"col-1 text-center button-col d-none d-lg-block",children:x[0]?Object(f.jsx)("ul",{className:"list-unstyled",children:Object(f.jsxs)("li",{children:[Object(f.jsx)("div",{children:Object(f.jsx)("a",{type:"button",onClick:y,className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.i,color:"grey",size:"lg"})})}),Object(f.jsx)("div",{className:"subtitle",children:"Delete"})]})}):null})]})]})},le=function(e){var t=Object(n.useMemo)((function(){return $}),[]),s=Object(n.useState)(e.myDeletedTests,[]),a=Object(T.a)(s,2),c=a[0],l=(a[1],Object(Q.useTable)({columns:t,data:c,initialState:{sortBy:[{id:"updatedAt",desc:!0}],groupBy:["lotNr"],hiddenColumns:["updatedAt"]}},Q.useGlobalFilter,Q.useSortBy,Q.useExpanded,Q.useRowSelect,(function(e){e.visibleColumns.push((function(e){return[].concat(Object(Y.a)(e),[{id:"selection",Header:function(e){var t=e.getToggleAllRowsSelectedProps;return Object(f.jsx)(te,Object(i.a)({},t()))},Cell:function(e){var t=e.row;return Object(f.jsx)(te,Object(i.a)({},t.getToggleRowSelectedProps()))}}])}))}))),o=l.getTableProps,d=l.getTableBodyProps,j=l.headerGroups,u=l.rows,b=l.prepareRow,p=l.state,h=l.setGlobalFilter,x=l.selectedFlatRows,O=l.visibleColumns,g=p.globalFilter,m=Object(n.useState)(""),v=Object(T.a)(m,2),y=(v[0],v[1],function(){x.forEach((function(t){var s={_id:t.original._id,status:"OK"};e.putTest(s)}))}),N=r.a.useCallback((function(e){var t=e.row;return Object(f.jsx)(se,{testValues:t.original})}));return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"row header table",children:[Object(f.jsx)("div",{className:"col-12 col-lg-6",children:Object(f.jsx)(ee,{filter:g,setFilter:h})}),Object(f.jsx)("div",{style:{"padding-right":"20px"},className:"col-2 ml-auto text-right"})]}),x[0]?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"action-button-row row d-lg-none float-left",children:Object(f.jsx)("div",{className:"col-2 col-md-1",children:Object(f.jsx)("a",{type:"button",onClick:y,style:{backgroundColor:"rgba(67, 47, 135, 0.9)",boxShadow:"0px 0px 5px 0px rgba(67, 47, 135, 0.9)"},className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.j,color:"white",size:"lg"})})})}),Object(f.jsx)("div",{className:"row proxy-row d-lg-none"})]}):null,Object(f.jsxs)("div",{className:"table-container row",children:[Object(f.jsx)("div",{style:{"padding-top":"10px","padding-bottom":"0px","padding-left":"0px","padding-right":"10px"},className:"col-12 col-lg-11",children:Object(f.jsxs)("table",Object(i.a)(Object(i.a)({},o()),{},{children:[Object(f.jsx)("thead",{children:j.map((function(e){return Object(f.jsx)("tr",Object(i.a)(Object(i.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(f.jsxs)("th",Object(i.a)(Object(i.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(f.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(f.jsx)(Z.a,{}):Object(f.jsx)(Z.b,{}):""})]}))}))}))}))}),Object(f.jsx)("tbody",Object(i.a)(Object(i.a)({},d()),{},{children:u.map((function(e,t){return b(e),Object(f.jsxs)(r.a.Fragment,Object(i.a)(Object(i.a)({},e.getRowProps()),{},{children:[Object(f.jsx)("tr",{children:e.cells.map((function(e){return Object(f.jsx)("td",Object(i.a)(Object(i.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}),e.isExpanded?Object(f.jsx)("tr",{children:Object(f.jsx)("td",{colSpan:O.length,children:N({row:e})})}):null]}))}))}))]}))}),Object(f.jsx)("div",{className:"col-1 text-center button-col d-none d-lg-block",children:x[0]?Object(f.jsx)("ul",{className:"list-unstyled",children:Object(f.jsxs)("li",{children:[Object(f.jsx)("div",{className:"textCenter",children:Object(f.jsx)("a",{type:"button",onClick:y,style:{backgroundColor:"rgba(67, 47, 135, 0.9)",boxShadow:"0px 0px 5px 0px rgba(67, 47, 135, 0.9)"},className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.j,color:"white",size:"lg"})})}),Object(f.jsx)("div",{className:"subtitle",children:"Restore"})]})}):null})]})]})},oe=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).state={currentPath:""},n}return Object(d.a)(s,[{key:"componentDidMount",value:function(){var e=window.location.pathname.split("/").splice(2).join("/");this.setState({currentPath:e})}},{key:"renderTable",value:function(e){switch(e){case"all-tests/overview":return Object(f.jsx)(ae,{tests:this.props.tests,testsLoading:this.props.testsLoading,testsErrMess:this.props.testsErrMess,fetchTests:this.props.fetchTests,putTest:this.props.putTest,deleteTest:this.props.deleteTest});case"all-tests/deleted":return Object(f.jsx)(ce,{deletedTests:this.props.deletedTests,testsLoading:this.props.testsLoading,testsErrMess:this.props.testsErrMess,fetchTests:this.props.fetchTests,putTest:this.props.putTest,deleteTest:this.props.deleteTest});case"my-tests/overview":return Object(f.jsx)(ie,{myTests:this.props.myTests,testsLoading:this.props.testsLoading,testsErrMess:this.props.testsErrMess,fetchTests:this.props.fetchTests,putTest:this.props.putTest,deleteTest:this.props.deleteTest});case"my-tests/deleted":return Object(f.jsx)(le,{myDeletedTests:this.props.myDeletedTests,testsLoading:this.props.testsLoading,testsErrMess:this.props.testsErrMess,fetchTests:this.props.fetchTests,putTest:this.props.putTest,deleteTest:this.props.deleteTest})}}},{key:"render",value:function(){return Object(f.jsxs)("div",{id:"page-wrap",className:"container-fluid",children:[Object(f.jsx)(v,{pageWrapId:"page-wrap",outerContainerId:"outer-container",logoutUser:this.props.logoutUser}),Object(f.jsxs)("div",{className:"row flex-fill h-100 d-flex",children:[Object(f.jsxs)("div",{style:{position:"fixed"},className:"col-2 d-flex flex-column h-100",children:[Object(f.jsx)("div",{style:{"border-bottom":"1px solid #E2E2E4","background-color":"white","margin-top":"0px",padding:"10px"},className:"row header",children:Object(f.jsx)("div",{style:{paddingRight:"0px"},className:"col my-auto ml-5",children:Object(f.jsx)("span",{className:"menu-header d-none d-xl-inline",children:" Test History "})})}),Object(f.jsx)("div",{style:{"border-right":"1px solid #E2E2E4",backgroundColor:"#F6F5FA"},className:"row side-info justify-content-center bg-blue flex-grow-1",children:Object(f.jsxs)("div",{style:{"margin-top":"15px"},className:"container-fluid side-info-container",children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("div",{style:{"margin-right":"15px","border-radius":"7px","background-color":"rgba(47, 73, 209, 0.15)","box-shadow":"0px 0px 5px 0px lightgrey",height:"70px","padding-top":"20px",paddingLeft:"0px",paddingRight:"0px"},className:"col text-center section-selection",children:[Object(f.jsx)("a",{className:"switch",href:"all-tests"==this.state.currentPath.split("/")[0]?"/testhistory/my-tests/overview":"/testhistory/all-tests/overview",children:Object(f.jsx)("span",{className:"dot",style:{height:"30px",border:"0.5px solid rgba(229, 229, 229, 1)",width:"30px","background-color":"#ffffff","border-radius":"50%",display:"inline-block","box-shadow":"0px 0px 1px 0px #888888"},children:Object(f.jsx)(K.a,{})})}),Object(f.jsx)("span",{className:"d-none d-lg-inline",style:{"font-weight":"700","font-size":"large",color:"rgba(237, 139, 0, 0.95)","padding-left":"15px","vertical-align":"middle"},children:"all-tests"==this.state.currentPath.split("/")[0]?"All Tests":"My Tests"})]})}),Object(f.jsx)("div",{style:{"margin-top":"30px"},className:"row section-choices",children:Object(f.jsx)("div",{className:"col text-center text-lg-left",style:{padding:"0px"},children:Object(f.jsxs)("ul",{className:"list-unstyled",children:[Object(f.jsx)("li",{children:Object(f.jsxs)("a",{type:"button",href:"all-tests"==this.state.currentPath.split("/")[0]?"/testhistory/all-tests/overview":"/testhistory/my-tests/overview",className:"overview"==this.state.currentPath.split("/")[1]?"selected":"",children:[Object(f.jsx)("span",{children:Object(f.jsx)(W.a,{})})," ",Object(f.jsx)("span",{className:"d-none d-lg-inline",children:"Overview"})]})}),Object(f.jsx)("li",{children:Object(f.jsxs)("a",{type:"button",href:"all-tests"==this.state.currentPath.split("/")[0]?"/testhistory/all-tests/deleted":"/testhistory/my-tests/deleted",className:"deleted"==this.state.currentPath.split("/")[1]?"selected":"",children:[Object(f.jsx)("span",{children:Object(f.jsx)(g.b,{})})," ",Object(f.jsx)("span",{className:"d-none d-lg-inline",children:"Deleted"})]})})]})})}),Object(f.jsx)("div",{style:{position:"absolute",bottom:"10px",width:"80%"},className:"row",children:Object(f.jsx)("div",{style:{height:"80px","border-top":"1px solid rgba(229, 229, 229, 1)","padding-top":"13px"},className:"col text-center",children:Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{style:{paddingLeft:"0px"},className:"col-3",children:Object(f.jsx)("a",{href:"/account",className:"dot",style:{"line-height":"50px",border:"0.5px solid white",width:"50px","background-color":"white","border-radius":"50%",display:"inline-block","box-shadow":"0px 0px 5px 0px lightgrey","text-align":"center","vertical-align":"middle"},children:JSON.parse(localStorage.getItem("userData")).firstName.substring(0,1)+JSON.parse(localStorage.getItem("userData")).lastName.substring(0,1)})}),Object(f.jsxs)("div",{style:{"margin-left":"10px"},className:"col",children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("a",{style:{color:"black"},href:"/account",children:Object(f.jsx)("span",{className:"d-none d-xl-inline",style:{display:"block"},children:JSON.parse(localStorage.getItem("userData")).firstName+" "+JSON.parse(localStorage.getItem("userData")).lastName})})}),Object(f.jsx)("div",{style:{color:"gray"},className:"row",children:Object(f.jsx)("span",{className:"d-none d-xl-inline",style:{display:"block"},children:JSON.parse(localStorage.getItem("userData")).supervisor?"Supervisor":"Regular"})})]})]})})})]})})]}),Object(f.jsx)("div",{className:"col-10 offset-2",children:this.renderTable(this.state.currentPath)})]})]})}}]),s}(n.Component),de=[{Header:function(){return null},id:"expander",Cell:function(e){var t=e.row;return t.subRows.length?null:Object(f.jsx)("span",Object(i.a)(Object(i.a)({},t.getToggleRowExpandedProps()),{},{children:t.isExpanded?Object(f.jsx)(Z.c,{}):Object(f.jsx)(Z.d,{})}))}},{Header:"Date Received",id:"dateReceived",accessor:"dateReceived",Cell:function(e){var t=e.value;return null!=t?Object(X.a)(new Date(t),"dd/MM/yyyy"):""},aggregate:je},{Header:"Reagent Name",accessor:"reagentName",canGroupBy:!1,aggregate:je,disableSortBy:!0},{Header:"LOT Number",id:"lotNr",accessor:"lotNr",canGroupBy:!0,disableSortBy:!0,aggregate:je},{Header:"Unit",accessor:"unit",canGroupBy:!1,aggregate:function(e){return String(e.length)},disableSortBy:!0},{Header:"Expiry Date",accessor:"expiryDate",Cell:function(e){var t=e.value;return null!=t?new Date(t)<new Date?Object(f.jsx)("span",{style:{color:"#F08080"},children:Object(X.a)(new Date(t),"dd/MM/yyyy")}):Object(f.jsx)("span",{children:Object(X.a)(new Date(t),"dd/MM/yyyy")}):""},aggregate:je,canGroupBy:!1},{Header:"Status",accessor:"status",Cell:function(e){switch(e.value){case"DISPOSED":return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{style:{color:"orange"},children:"Disposed"})," ",Object(f.jsx)("span",{style:{backgroundColor:"orange",height:"10px",width:"10px",borderRadius:"50%",display:"inline-block"}})]});case"DELETED":return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{style:{color:"#F08080"},children:"Deleted"})," ",Object(f.jsx)("span",{style:{backgroundColor:"#F08080",height:"10px",width:"10px",borderRadius:"50%",display:"inline-block"}})]});case"OK":return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{style:{color:"lightgreen"},children:"Ok"})," ",Object(f.jsx)("span",{style:{backgroundColor:"lightgreen",height:"10px",width:"10px",borderRadius:"50%",display:"inline-block"}})]});default:return""}},canGroupBy:!1},{Header:"Assay",accessor:"assayName",canGroupBy:!1},{Header:"Supplier",accessor:"supplier",disableSortBy:!0,aggregate:je,canGroupBy:!0},{Header:"CAT Number",accessor:"catNr",canGroupBy:!1,aggregate:je},{Header:"Updated At",accessor:"updatedAt"}];function je(e){return e[0]}s(141);var ue=function(e){return e?void 0:"Required"},be=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).handleSubmit=function(){var e=Object(h.a)(p.a.mark((function e(t){var s,r,a,c,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s=(s=new Date(t.expiryDate)).toISOString(),r=(r=new Date(t.dateReceived)).toISOString(),a=Number(t.unit),c=0;c<a;c++)i=String(c+1)+"/"+String(a),n.props.postReagent(i,t.reagentName,t.supplier,t.lotNr,t.catNr,s,r,t.storageLocation);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={reagentName:"",supplier:"",lotNr:"",catNr:"",expiryDate:null,dateReceived:null,storageLocation:null,unit:null},n}return Object(d.a)(s,[{key:"componentWillReceiveProps",value:function(e){this.setState({reagentName:e.selectedRow.selectedFlatRows?e.selectedRow.selectedFlatRows.reagentName:""}),this.setState({supplier:e.selectedRow.selectedFlatRows?e.selectedRow.selectedFlatRows.supplier:""}),this.setState({lotNr:e.selectedRow.selectedFlatRows?e.selectedRow.selectedFlatRows.lotNr:""}),this.setState({catNr:e.selectedRow.selectedFlatRows?e.selectedRow.selectedFlatRows.catNr:""})}},{key:"render",value:function(){var e=this;return Object(f.jsx)("div",{style:{"z-index":"11"},className:"sidebar-content".concat(!0===this.props.isSidebarOpen?" open":""),children:Object(f.jsx)(x.b,{onSubmit:this.handleSubmit,initialValues:{reagentName:this.state.reagentName,supplier:this.state.supplier,lotNr:this.state.lotNr,catNr:this.state.catNr,storageLocation:"Room 1",unit:1},render:function(t){var s=t.handleSubmit,n=t.form,r=t.submitting,a=t.pristine;t.values;return Object(f.jsxs)("div",{className:"container-fluid",children:[Object(f.jsxs)("div",{className:"row mt-2",children:[Object(f.jsx)("div",{className:"col-1",children:Object(f.jsx)("a",{onClick:function(){e.props.onSidebarToggle(),n.getRegisteredFields().map((function(e){return n.resetFieldState(e)}))},children:Object(f.jsx)(W.c,{})})}),Object(f.jsx)("div",{className:"col text-center",children:Object(f.jsx)("h4",{children:"Add New Reagent"})})]}),Object(f.jsx)("div",{className:"row ml-2 mt-2",children:Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)("form",{id:"addReagentForm",onSubmit:s,children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsx)(x.a,{name:"reagentName",component:"input",type:"text",validate:ue,children:function(e){var t=e.input,s=e.meta;return Object(f.jsxs)("div",{className:"col-12",children:[Object(f.jsx)("label",{children:"Reagent Name"}),Object(f.jsx)("input",Object(i.a)(Object(i.a)({},t),{},{placeholder:"Reagent Name"})),s.error&&s.touched&&Object(f.jsx)("span",{className:"error",children:s.error})]})}})}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)(x.a,{name:"supplier",component:"input",type:"text",validate:ue,children:function(e){var t=e.input,s=e.meta;return Object(f.jsxs)("div",{className:"col-12",children:[Object(f.jsx)("label",{children:"Supplier"}),Object(f.jsx)("input",Object(i.a)(Object(i.a)({},t),{},{placeholder:"Supplier"})),s.error&&s.touched&&Object(f.jsx)("span",{className:"error",children:s.error})]})}})}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)(x.a,{name:"lotNr",component:"input",type:"text",validate:ue,children:function(e){var t=e.input,s=e.meta;return Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{children:"Lot Number"}),Object(f.jsx)("input",Object(i.a)(Object(i.a)({},t),{},{placeholder:"Lot Number"})),s.error&&s.touched&&Object(f.jsx)("span",{className:"error",children:s.error})]})}}),Object(f.jsx)(x.a,{name:"catNr",component:"input",type:"text",validate:ue,children:function(e){var t=e.input,s=e.meta;return Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{children:"Cat Number"}),Object(f.jsx)("input",Object(i.a)(Object(i.a)({},t),{},{placeholder:"Cat Number"})),s.error&&s.touched&&Object(f.jsx)("span",{className:"error",children:s.error})]})}})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)(x.a,{name:"expiryDate",component:"input",type:"date",validate:ue,children:function(e){var t=e.input,s=e.meta;return Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{children:"Expiry Date"}),Object(f.jsx)("input",Object(i.a)({},t)),s.error&&s.touched&&Object(f.jsx)("span",{className:"error",children:s.error})]})}}),Object(f.jsx)(x.a,{name:"dateReceived",component:"input",type:"date",validate:ue,children:function(e){var t=e.input,s=e.meta;return Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{children:"Date Received"}),Object(f.jsx)("input",Object(i.a)({},t)),s.error&&s.touched&&Object(f.jsx)("span",{className:"error",children:s.error})]})}})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{children:"Storage Location"}),Object(f.jsxs)(x.a,{name:"storageLocation",component:"select",defaultValue:"Room 1",children:[Object(f.jsx)("option",{value:"Room 1",children:"Room 1"}),Object(f.jsx)("option",{value:"Room 2",children:"Room 2"}),Object(f.jsx)("option",{value:"Room 3",children:"Room 3"})]})]}),Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{children:"Unit"}),Object(f.jsx)(x.a,{name:"unit",component:"input",type:"number",min:"1"})]})]}),Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("div",{className:"col-12",children:[Object(f.jsx)("button",{className:"cancel-button",type:"button",onClick:function(){e.props.onSidebarToggle(),n.getRegisteredFields().map((function(e){return n.resetFieldState(e)}))},children:"Cancel"}),Object(f.jsx)("button",{className:"submit-button",type:"submit",disabled:r||a,children:"Add Reagents"})]})})]})})})]})}})})}}]),s}(n.Component),pe=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(e){return Object(o.a)(this,s),t.call(this,e)}return Object(d.a)(s,[{key:"render",value:function(){return Object(f.jsxs)("div",{style:{padding:"20px"},className:"row",children:[Object(f.jsxs)("div",{style:{borderRight:"1px solid lightgrey"},className:"col-4",children:[Object(f.jsxs)("div",{className:"row reagent-card-value",children:[Object(f.jsx)("div",{className:"col",children:Object(f.jsx)("b",{children:"First Used By"})}),Object(f.jsx)("div",{className:"col",children:this.props.reagentValues.firstUsedBy})]}),Object(f.jsxs)("div",{className:"row reagent-card-value",children:[Object(f.jsx)("div",{className:"col",children:Object(f.jsx)("b",{children:"Received By"})}),Object(f.jsx)("div",{className:"col",children:this.props.reagentValues.receivedBy})]}),Object(f.jsxs)("div",{className:"row reagent-card-value",children:[Object(f.jsx)("div",{className:"col",children:Object(f.jsx)("b",{children:"Last Edited By"})}),Object(f.jsx)("div",{className:"col",children:this.props.reagentValues.lastEditedBy})]}),Object(f.jsxs)("div",{className:"row reagent-card-value",children:[Object(f.jsx)("div",{className:"col",children:Object(f.jsx)("b",{children:"Disposed By"})}),Object(f.jsx)("div",{className:"col",children:this.props.reagentValues.discardedBy})]})]}),Object(f.jsxs)("div",{style:{borderRight:"1px solid lightgrey"},className:"col-4",children:[Object(f.jsxs)("div",{className:"row reagent-card-value",children:[Object(f.jsx)("div",{className:"col",children:Object(f.jsx)("b",{children:"Storage Location"})}),Object(f.jsx)("div",{className:"col",children:this.props.reagentValues.storageLocation})]}),Object(f.jsxs)("div",{className:"row reagent-card-value",children:[Object(f.jsx)("div",{className:"col",children:Object(f.jsx)("b",{children:"Condition"})}),Object(f.jsx)("div",{className:"col",children:this.props.reagentValues.condition})]}),Object(f.jsxs)("div",{className:"row reagent-card-value",children:[Object(f.jsx)("div",{className:"col",children:Object(f.jsx)("b",{children:"Action"})}),Object(f.jsx)("div",{className:"col",children:this.props.reagentValues.action})]}),Object(f.jsxs)("div",{className:"row reagent-card-value",children:[Object(f.jsx)("div",{className:"col",children:Object(f.jsx)("b",{children:"Comment"})}),Object(f.jsx)("div",{className:"col",children:this.props.reagentValues.comment})]})]}),Object(f.jsxs)("div",{className:"col-4",children:[Object(f.jsxs)("div",{className:"row reagent-card-value",children:[Object(f.jsx)("div",{className:"col",children:Object(f.jsx)("b",{children:"Status"})}),Object(f.jsx)("div",{className:"col",children:this.props.reagentValues.status})]}),Object(f.jsxs)("div",{className:"row reagent-card-value",children:[Object(f.jsx)("div",{className:"col",children:Object(f.jsx)("b",{children:"Date Received"})}),Object(f.jsx)("div",{className:"col",children:null!=this.props.reagentValues.dateReceived?Object(X.a)(new Date(this.props.reagentValues.dateReceived),"dd/MM/yyyy"):""})]}),Object(f.jsxs)("div",{className:"row reagent-card-value",children:[Object(f.jsx)("div",{className:"col",children:Object(f.jsx)("b",{children:"Date of First Use"})}),Object(f.jsx)("div",{className:"col",children:null!=this.props.reagentValues.dateOfFirstUse?Object(X.a)(new Date(this.props.reagentValues.dateOfFirstUse),"dd/MM/yyyy"):""})]}),Object(f.jsxs)("div",{className:"row reagent-card-value",children:[Object(f.jsx)("div",{className:"col",children:Object(f.jsx)("b",{children:"Expiry Date"})}),Object(f.jsx)("div",{className:"col",children:null!=this.props.reagentValues.expiryDate?Object(X.a)(new Date(this.props.reagentValues.expiryDate),"dd/MM/yyyy"):""})]})]})]})}}]),s}(n.Component),he=s(39),xe=s.n(he),Oe=s(40),ge=s.n(Oe),me=function(e){return e?void 0:"Required"},fe=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).handleSubmit=function(e){var t=new Date(e.expiryDate);t=t.toISOString();var s=new Date(e.dateReceived);s=s.toISOString();var r={_id:n.props.selectedRow.selectedFlatRows._id,reagentName:e.reagentName,lotNr:e.lotNr,catNr:e.catNr,expiryDate:t,dateReceived:s,storageLocation:e.storageLocation,status:e.status,condition:e.condition,comment:e.comment,action:e.action,supplier:e.supplier};if(e.status!=n.state.status&&"DISPOSED"==e.status)var a="dispose";else a="editDetails";n.props.putReagent(r,a),n.props.handleModalClose()},n.state={reagentName:"",supplier:"",lotNr:"",catNr:"",expiryDate:null,dateReceived:null,storageLocation:"",status:"",condition:"",comment:"",action:"",assayName:""},n}return Object(d.a)(s,[{key:"componentWillReceiveProps",value:function(e){this.setState({reagentName:e.selectedRow.selectedFlatRows?e.selectedRow.selectedFlatRows.reagentName:""}),this.setState({supplier:e.selectedRow.selectedFlatRows?e.selectedRow.selectedFlatRows.supplier:""}),this.setState({lotNr:e.selectedRow.selectedFlatRows?e.selectedRow.selectedFlatRows.lotNr:""}),this.setState({catNr:e.selectedRow.selectedFlatRows?e.selectedRow.selectedFlatRows.catNr:""}),this.setState({expiryDate:e.selectedRow.selectedFlatRows?e.selectedRow.selectedFlatRows.expiryDate.substring(0,10):null}),this.setState({dateReceived:e.selectedRow.selectedFlatRows?e.selectedRow.selectedFlatRows.dateReceived.substring(0,10):null}),this.setState({status:e.selectedRow.selectedFlatRows?e.selectedRow.selectedFlatRows.status:""}),this.setState({condition:e.selectedRow.selectedFlatRows?e.selectedRow.selectedFlatRows.condition:""}),this.setState({comment:e.selectedRow.selectedFlatRows?e.selectedRow.selectedFlatRows.comment:""}),this.setState({action:e.selectedRow.selectedFlatRows?e.selectedRow.selectedFlatRows.action:""}),this.setState({unit:e.selectedRow.selectedFlatRows?e.selectedRow.selectedFlatRows.unit:""}),this.setState({assayName:e.selectedRow.selectedFlatRows?e.selectedRow.selectedFlatRows.assayName:""})}},{key:"render",value:function(){var e=this;return Object(f.jsxs)(F.a,{show:this.props.isModalOpen,onHide:this.props.handleModalClose,children:[Object(f.jsx)(F.a.Header,{closeButton:!0,children:Object(f.jsx)("h4",{children:"Edit Reagent"})}),Object(f.jsx)(F.a.Body,{children:Object(f.jsx)("div",{className:"container-fluid",children:Object(f.jsx)(x.b,{onSubmit:this.handleSubmit,initialValues:{reagentName:this.state.reagentName,supplier:this.state.supplier,lotNr:this.state.lotNr,catNr:this.state.catNr,expiryDate:this.state.expiryDate,dateReceived:this.state.dateReceived,storageLocation:this.state.storageLocation,status:this.state.status,condition:this.state.condition,comment:this.state.comment,action:this.state.action},render:function(t){var s=t.handleSubmit,n=t.form,r=t.submitting,a=t.pristine;t.values;return Object(f.jsx)("div",{className:"row ml-2 mt-2",children:Object(f.jsx)("div",{className:"col-12",children:Object(f.jsxs)("form",{id:"editReagentForm",onSubmit:s,children:[Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)(x.a,{name:"reagentName",component:"input",type:"text",validate:me,children:function(e){var t=e.input,s=e.meta;return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{children:"Reagent Name"}),Object(f.jsx)("input",Object(i.a)(Object(i.a)({},t),{},{placeholder:"Reagent Name"})),s.error&&s.touched&&Object(f.jsx)("span",{className:"error",children:s.error})]})})}}),Object(f.jsx)(x.a,{name:"supplier",component:"input",type:"text",validate:me,children:function(e){var t=e.input,s=e.meta;return Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{children:"Supplier"}),Object(f.jsx)("input",Object(i.a)(Object(i.a)({},t),{},{placeholder:"Supplier"})),s.error&&s.touched&&Object(f.jsx)("span",{className:"error",children:s.error})]})}})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)(x.a,{name:"lotNr",component:"input",type:"text",validate:me,children:function(e){var t=e.input,s=e.meta;return Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{children:"Lot Number"}),Object(f.jsx)("input",Object(i.a)(Object(i.a)({},t),{},{placeholder:"Lot Number"})),s.error&&s.touched&&Object(f.jsx)("span",{className:"error",children:s.error})]})}}),Object(f.jsx)(x.a,{name:"catNr",component:"input",type:"text",validate:me,children:function(e){var t=e.input,s=e.meta;return Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{children:"Cat Number"}),Object(f.jsx)("input",Object(i.a)(Object(i.a)({},t),{},{placeholder:"Cat Number"})),s.error&&s.touched&&Object(f.jsx)("span",{className:"error",children:s.error})]})}})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)(x.a,{name:"expiryDate",component:"input",type:"date",validate:me,children:function(e){var t=e.input,s=e.meta;return Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{children:"Expiry Date"}),Object(f.jsx)("input",Object(i.a)({},t)),s.error&&s.touched&&Object(f.jsx)("span",{className:"error",children:s.error})]})}}),Object(f.jsx)(x.a,{name:"dateReceived",component:"input",type:"date",validate:me,children:function(e){var t=e.input,s=e.meta;return Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{children:"Date Received"}),Object(f.jsx)("input",Object(i.a)({},t)),s.error&&s.touched&&Object(f.jsx)("span",{className:"error",children:s.error})]})}})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{children:"Storage Location"}),Object(f.jsxs)(x.a,{name:"storageLocation",component:"select",defaultValue:e.state.storageLocation,children:[Object(f.jsx)("option",{selected:!0,value:"Room 1",children:"Room 1"}),Object(f.jsx)("option",{value:"Room 2",children:"Room 2"}),Object(f.jsx)("option",{value:"Room 3",children:"Room 3"})]})]}),Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{className:"mr-5",children:"Status"}),Object(f.jsxs)(x.a,{name:"status",component:"select",defaultValue:e.state.status,children:[Object(f.jsx)("option",{selected:!0,value:"OK",children:"OK"}),Object(f.jsx)("option",{value:"DISPOSED",children:"DISPOSED"})]})]})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-3",children:Object(f.jsx)("label",{children:"Condition"})}),Object(f.jsx)("div",{className:"col-9",children:Object(f.jsx)(x.a,{name:"condition",component:"input",type:"text"})})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-3",children:Object(f.jsx)("label",{children:"Comment"})}),Object(f.jsx)("div",{className:"col-9",children:Object(f.jsx)(x.a,{name:"comment",component:"input",type:"textarea"})})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-3",children:Object(f.jsx)("label",{children:"Action"})}),Object(f.jsx)("div",{className:"col-9",children:Object(f.jsx)(x.a,{name:"action",component:"input",type:"textarea"})})]}),Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("div",{className:"col-12",children:[Object(f.jsx)("button",{className:"cancel-button",type:"button",onClick:function(){e.props.handleModalClose(),n.getRegisteredFields().map((function(e){return n.resetFieldState(e)}))},children:"Cancel"}),Object(f.jsx)("button",{className:"submit-button",type:"submit",disabled:r||a,children:"Save Changes"})]})})]})})})}})})})]})}}]),s}(n.Component),ve=function(e){var t=Object(n.useMemo)((function(){return de}),[]),s=Object(n.useMemo)((function(){return e.reagents}),[]),a=Object(Q.useTable)({columns:t,data:s,initialState:{sortBy:[{id:"dateReceived",desc:!0}],groupBy:["dateReceived"],hiddenColumns:["updatedAt"]},autoResetExpanded:!1,autoResetSelectedRows:!1},Q.useGlobalFilter,Q.useGroupBy,Q.useSortBy,Q.useExpanded,Q.useRowSelect,(function(e){e.visibleColumns.push((function(e){return[].concat(Object(Y.a)(e),[{id:"selection",groupByBoundary:!0,Header:function(e){e.getToggleAllRowsSelectedProps;return null},Cell:function(e){var t=e.row;return t.subRows.length?null:Object(f.jsx)(te,Object(i.a)({},t.getToggleRowSelectedProps()))}}])}))})),c=a.getTableProps,l=a.getTableBodyProps,o=a.headerGroups,d=a.rows,j=a.prepareRow,u=a.state,b=a.setGlobalFilter,p=a.selectedFlatRows,h=a.visibleColumns,x=(a.toggleAllRowsExpanded,a.isAllRowsExpanded,a.toggleRowExpanded,u.globalFilter),O=Object(n.useState)(!1),g=Object(T.a)(O,2),m=g[0],v=g[1],y=Object(n.useState)(!1),N=Object(T.a)(y,2),w=N[0],S=N[1],R=function(){v(!m),e.toggleSidebar(!0)},E=function(){S(!0)},C=function(){p.forEach((function(t){if(t.original){var s={_id:t.original._id,status:"DELETED"};e.putReagent(s)}}))},k=function(){p.forEach((function(t){if(t.original){var s={_id:t.original._id,status:"DISPOSED"};e.putReagent(s,"dispose")}}))},D=function(){document.getElementById("hidden-qr").style.display="block",p.forEach((function(e){if(null!=e.original){var t=String(e.original._id)+"-ext",s=document.getElementById("".concat(t));s.style.display="block",ge()(s).then((function(e){s.style.display="none";var n=e.toDataURL("image/png").replace("image/png","image/octet-stream"),r=document.createElement("a");r.href=n,r.download=t+".png",document.body.appendChild(r),r.click(),document.body.removeChild(r)}))}})),document.getElementById("hidden-qr").style.display="none"},F=r.a.useCallback((function(e){var t=e.row;return Object(f.jsx)(pe,{reagentValues:t.original})}),[]);return e.reagentsLoading?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"row header table",children:[Object(f.jsx)("div",{className:"col-6 col-sm-8 col-lg-6",children:Object(f.jsx)(ee,{filter:x,setFilter:b})}),Object(f.jsx)("div",{className:"col ml-auto text-right",children:Object(f.jsx)("span",{children:Object(f.jsxs)("a",{style:{"font-size":"medium",color:"rgba(67, 47, 135, 0.9)"},type:"button",onClick:R,children:["Add Reagent",Object(f.jsx)("span",{style:{"padding-left":"10px"},children:Object(f.jsx)(_.a,{icon:U.b,size:"lg"})})]})})})]}),Object(f.jsx)("div",{style:{paddingTop:"61px"},className:"table-container row",children:Object(f.jsx)("div",{style:{"padding-top":"100px","padding-bottom":"0px","padding-left":"0px","padding-right":"10px"},className:"col-11 text-center",children:Object(f.jsx)(re.a,{type:"TailSpin",color:"rgba(67, 47, 135, 0.9)",height:50,width:50,timeout:3e3})})})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"row header table",children:[Object(f.jsx)("div",{className:"col-6 col-sm-8 col-lg-6",children:Object(f.jsx)(ee,{filter:x,setFilter:b})}),Object(f.jsx)("div",{className:"col ml-auto text-right",children:Object(f.jsx)("span",{children:Object(f.jsxs)("a",{style:{"font-size":"medium",color:"rgba(67, 47, 135, 0.9)"},type:"button",onClick:R,children:["Add Reagent",Object(f.jsx)("span",{style:{"padding-left":"10px"},children:Object(f.jsx)(_.a,{icon:U.b,size:"lg"})})]})})})]}),p[0]?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"action-button-row row d-xl-none float-left",children:[Object(f.jsx)("div",{className:"col-2 col-md-1",children:Object(f.jsx)("a",{type:"button",style:{backgroundColor:"rgba(67, 47, 135, 0.9)",boxShadow:"0px 0px 5px 0px rgba(67, 47, 135, 0.9)"},onClick:E,className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.d,color:"white",size:"lg"})})}),Object(f.jsx)("div",{className:"col-2 col-md-1",children:Object(f.jsx)("a",{type:"button",onClick:k,className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.h,color:"rgba(67, 47, 135, 0.9)",size:"lg"})})}),Object(f.jsx)("div",{className:"col-2 col-md-1",children:Object(f.jsx)("a",{type:"button",onClick:D,className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.a,color:"rgba(67, 47, 135, 0.9)",size:"lg"})})}),Object(f.jsx)("div",{className:"col-2 col-md-1",children:Object(f.jsx)("a",{type:"button",onClick:C,className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.i,color:"grey",size:"lg"})})})]}),Object(f.jsx)("div",{className:"row proxy-row d-xl-none"})]}):null,Object(f.jsxs)("div",{className:"table-container row",children:[Object(f.jsxs)("div",{style:{"padding-top":"10px","padding-bottom":"0px","padding-left":"0px","padding-right":"10px"},className:"col-11",children:[Object(f.jsxs)("table",Object(i.a)(Object(i.a)({},c()),{},{children:[Object(f.jsx)("thead",{children:o.map((function(e){return Object(f.jsx)("tr",Object(i.a)(Object(i.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(f.jsxs)("th",Object(i.a)(Object(i.a)(Object(i.a)({},e.getHeaderProps(e.getSortByToggleProps())),e.getHeaderProps()),{},{children:[e.render("Header"),Object(f.jsx)("span",{children:e.canSort?e.isSorted?e.isSortedDesc?Object(f.jsx)(Z.a,{}):Object(f.jsx)(Z.b,{}):"":null})]}))}))}))}))}),Object(f.jsx)("tbody",Object(i.a)(Object(i.a)({},l()),{},{children:d.map((function(e,t){return j(e),Object(f.jsxs)(r.a.Fragment,{children:[Object(f.jsx)("tr",{className:e.subRows.length?"grouped-row":"",children:e.cells.map((function(t){return Object(f.jsx)("td",Object(i.a)(Object(i.a)({},t.getCellProps()),{},{children:t.isGrouped?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",Object(i.a)(Object(i.a)({},e.getToggleRowExpandedProps()),{},{children:e.isExpanded?Object(f.jsx)(Z.c,{}):Object(f.jsx)(Z.d,{})}))," ",t.render("Cell")," "]}):t.isAggregated?t.render("Aggregated"):t.isPlaceholder?null:t.render("Cell")}))}))}),e.isExpanded&&!e.subRows.length?Object(f.jsx)("tr",{children:Object(f.jsx)("td",{colSpan:h.length,children:F({row:e})})}):null]},e.getRowProps().key)}))}))]})),Object(f.jsx)("pre",{children:Object(f.jsx)("code",{})}),Object(f.jsx)("div",{id:"hidden-qr",children:p.map((function(e){return null==e.original?null:Object(f.jsxs)("div",{style:{display:"none"},id:String(e.original._id)+"-ext",className:"container",children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("h5",{children:[Object(f.jsx)("b",{children:"LOT Number"}),": ",e.original.lotNr," ","\n"]})}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)(xe.a,{id:String(e.original._id),value:String(e.original._id),size:290,level:"H",includeMargin:!1})}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("p",{children:[Object(f.jsx)("b",{children:"Unique ID"}),": ",e.original._id]})," "]}),Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("p",{children:[Object(f.jsx)("b",{children:"Pack No"}),": ",e.original.unit]})})]},e.original._id)}))})]}),Object(f.jsx)("div",{className:"col-1 text-center button-col d-none d-xl-block",children:p[0]?Object(f.jsxs)("ul",{className:"list-unstyled",children:[Object(f.jsxs)("li",{children:[Object(f.jsx)("div",{children:Object(f.jsx)("a",{type:"button",onClick:E,style:{backgroundColor:"rgba(67, 47, 135, 0.9)",boxShadow:"0px 0px 5px 0px rgba(67, 47, 135, 0.9)"},className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.d,color:"white",size:"lg"})})}),Object(f.jsx)("div",{className:"subtitle",children:"Edit"})]}),Object(f.jsxs)("li",{children:[Object(f.jsx)("div",{children:Object(f.jsx)("a",{type:"button",onClick:k,className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.h,color:"rgba(67, 47, 135, 0.9)",size:"lg"})})}),Object(f.jsx)("div",{className:"subtitle",children:"Dispose"})]}),Object(f.jsxs)("li",{children:[Object(f.jsx)("div",{children:Object(f.jsx)("a",{type:"button",onClick:D,className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.a,color:"rgba(67, 47, 135, 0.9)",size:"lg"})})}),Object(f.jsx)("div",{className:"subtitle",children:"Download QR"})]}),Object(f.jsxs)("li",{children:[Object(f.jsx)("div",{children:Object(f.jsx)("a",{type:"button",onClick:C,className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.i,color:"grey",size:"lg"})})}),Object(f.jsx)("div",{className:"subtitle",children:"Delete"})]})]}):null}),Object(f.jsx)(be,{isSidebarOpen:e.isSidebarOpen,onSidebarToggle:R,selectedRow:{selectedFlatRows:null!=p.map((function(e){return e.original}))[0]?p.map((function(e){return e.original}))[0]:p.map((function(e){return e.original}))[1]},resetAddReagentForm:e.resetAddReagentForm,changeAddReagentForm:e.changeAddReagentForm,postReagent:e.postReagent}),Object(f.jsx)(fe,{isModalOpen:w,handleModalClose:function(){S(!1)},handleModalOpen:E,selectedRow:{selectedFlatRows:null!=p.map((function(e){return e.original}))[0]?p.map((function(e){return e.original}))[0]:p.map((function(e){return e.original}))[1]},putReagent:e.putReagent})]})]})},ye=function(e){var t=Object(n.useMemo)((function(){return de}),[]),s=Object(n.useMemo)((function(){return e.reagents}),[]),a=Object(Q.useTable)({columns:t,data:s,initialState:{sortBy:[{id:"updatedAt",desc:!0}],hiddenColumns:["updatedAt"]}},Q.useGlobalFilter,Q.useSortBy,Q.useExpanded,Q.useRowSelect,(function(e){e.visibleColumns.push((function(e){return[].concat(Object(Y.a)(e),[{id:"selection",Header:function(e){var t=e.getToggleAllRowsSelectedProps;return Object(f.jsx)(te,Object(i.a)({},t()))},Cell:function(e){var t=e.row;return Object(f.jsx)(te,Object(i.a)({},t.getToggleRowSelectedProps()))}}])}))})),c=a.getTableProps,l=a.getTableBodyProps,o=a.headerGroups,d=a.rows,j=a.prepareRow,u=a.state,b=a.setGlobalFilter,p=a.selectedFlatRows,h=a.visibleColumns,x=u.globalFilter,O=Object(n.useState)(""),g=Object(T.a)(O,2),m=(g[0],g[1],Object(n.useState)(!1)),v=Object(T.a)(m,2),y=v[0],N=v[1],w=Object(n.useState)(!1),S=Object(T.a)(w,2),R=S[0],E=S[1],C=function(){N(!y),e.toggleSidebar()},k=function(){E(!0)},D=function(){p.forEach((function(t){if(t.original){var s={_id:t.original._id,status:"DELETED"};e.putReagent(s)}}))},F=function(){p.forEach((function(t){if(t.original){var s={_id:t.original._id,status:"DISPOSED"};e.putReagent(s,"dispose")}}))},P=function(){document.getElementById("hidden-qr").style.display="block",p.forEach((function(e){if(null!=e.original){var t=String(e.original._id)+"-ext",s=document.getElementById("".concat(t));s.style.display="block",ge()(s).then((function(e){s.style.display="none";var n=e.toDataURL("image/png").replace("image/png","image/octet-stream"),r=document.createElement("a");r.href=n,r.download=t+".png",document.body.appendChild(r),r.click(),document.body.removeChild(r)}))}})),document.getElementById("hidden-qr").style.display="none"},A=r.a.useCallback((function(e){var t=e.row;return Object(f.jsx)(pe,{reagentValues:t.original})}));return e.reagentsLoading?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"row header table",children:[Object(f.jsx)("div",{className:"col-6 col-sm-8 col-lg-6",children:Object(f.jsx)(ee,{filter:x,setFilter:b})}),Object(f.jsx)("div",{className:"col ml-auto text-right",children:Object(f.jsx)("span",{children:Object(f.jsxs)("a",{style:{"font-size":"medium",color:"rgba(67, 47, 135, 0.9)"},type:"button",onClick:C,children:["Add Reagent",Object(f.jsx)("span",{style:{"padding-left":"10px"},children:Object(f.jsx)(_.a,{icon:U.b,size:"lg"})})]})})})]}),Object(f.jsx)("div",{style:{paddingTop:"61px"},className:"table-container row",children:Object(f.jsx)("div",{style:{"padding-top":"100px","padding-bottom":"0px","padding-left":"0px","padding-right":"10px"},className:"col-11 text-center",children:Object(f.jsx)(re.a,{type:"TailSpin",color:"rgba(67, 47, 135, 0.9)",height:50,width:50,timeout:2e3})})})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"row header table",children:[Object(f.jsx)("div",{className:"col-6 col-sm-8 col-lg-6",children:Object(f.jsx)(ee,{filter:x,setFilter:b})}),Object(f.jsx)("div",{className:"col ml-auto text-right",children:Object(f.jsx)("span",{children:Object(f.jsxs)("a",{style:{"font-size":"medium",color:"rgba(67, 47, 135, 0.9)"},type:"button",onClick:C,children:["Add Reagent",Object(f.jsx)("span",{style:{"padding-left":"10px"},children:Object(f.jsx)(_.a,{icon:U.b,size:"lg"})})]})})})]}),p[0]?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"action-button-row row d-xl-none float-left",children:[Object(f.jsx)("div",{className:"col-2 col-md-1",children:Object(f.jsx)("a",{type:"button",style:{backgroundColor:"rgba(67, 47, 135, 0.9)",boxShadow:"0px 0px 5px 0px rgba(67, 47, 135, 0.9)"},onClick:k,className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.d,color:"white",size:"lg"})})}),Object(f.jsx)("div",{className:"col-2 col-md-1",children:Object(f.jsx)("a",{type:"button",onClick:F,className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.h,color:"rgba(67, 47, 135, 0.9)",size:"lg"})})}),Object(f.jsx)("div",{className:"col-2 col-md-1",children:Object(f.jsx)("a",{type:"button",onClick:P,className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.a,color:"rgba(67, 47, 135, 0.9)",size:"lg"})})}),Object(f.jsx)("div",{className:"col-2 col-md-1",children:Object(f.jsx)("a",{type:"button",onClick:D,className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.i,color:"grey",size:"lg"})})})]}),Object(f.jsx)("div",{className:"row proxy-row d-xl-none"})]}):null,Object(f.jsxs)("div",{className:"table-container row",children:[Object(f.jsxs)("div",{style:{"padding-top":"10px","padding-bottom":"0px","padding-left":"0px","padding-right":"10px"},className:"col-11",children:[Object(f.jsxs)("table",Object(i.a)(Object(i.a)({},c()),{},{children:[Object(f.jsx)("thead",{children:o.map((function(e){return Object(f.jsx)("tr",Object(i.a)(Object(i.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(f.jsxs)("th",Object(i.a)(Object(i.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(f.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(f.jsx)(Z.a,{}):Object(f.jsx)(Z.b,{}):""})]}))}))}))}))}),Object(f.jsx)("tbody",Object(i.a)(Object(i.a)({},l()),{},{children:d.map((function(e,t){return j(e),Object(f.jsxs)(r.a.Fragment,Object(i.a)(Object(i.a)({},e.getRowProps()),{},{children:[Object(f.jsx)("tr",{children:e.cells.map((function(e){return Object(f.jsx)("td",Object(i.a)(Object(i.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}),e.isExpanded?Object(f.jsx)("tr",{children:Object(f.jsx)("td",{colSpan:h.length,children:A({row:e})})}):null]}))}))}))]})),Object(f.jsx)("div",{id:"hidden-qr",children:p.map((function(e){return null==e.original?null:Object(f.jsxs)("div",{style:{display:"none"},id:String(e.original._id)+"-ext",className:"container text-center",children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("h5",{children:[Object(f.jsx)("b",{children:"LOT Number"}),": ",e.original.lotNr," ","\n"]})}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)(xe.a,{id:String(e.original._id),value:String(e.original._id),size:290,level:"H",includeMargin:!1})}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("p",{children:[Object(f.jsx)("b",{children:"Unique ID"}),": ",e.original._id]})," "]}),Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("p",{children:[Object(f.jsx)("b",{children:"Pack No"}),": ",e.original.unit]})})]},e.original._id)}))})]}),Object(f.jsx)("div",{className:"col-1 text-center button-col d-none d-xl-block",children:p[0]?Object(f.jsxs)("ul",{className:"list-unstyled",children:[Object(f.jsxs)("li",{children:[Object(f.jsx)("div",{children:Object(f.jsx)("a",{type:"button",onClick:k,style:{backgroundColor:"rgba(67, 47, 135, 0.9)",boxShadow:"0px 0px 5px 0px rgba(67, 47, 135, 0.9)"},className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.d,color:"white",size:"lg"})})}),Object(f.jsx)("div",{className:"subtitle",children:"Edit"})]}),Object(f.jsxs)("li",{children:[Object(f.jsx)("div",{children:Object(f.jsx)("a",{type:"button",onClick:F,className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.h,color:"rgba(67, 47, 135, 0.9)",size:"lg"})})}),Object(f.jsx)("div",{className:"subtitle",children:"Dispose"})]}),Object(f.jsxs)("li",{children:[Object(f.jsx)("div",{children:Object(f.jsx)("a",{type:"button",onClick:P,className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.a,color:"rgba(67, 47, 135, 0.9)",size:"lg"})})}),Object(f.jsx)("div",{className:"subtitle",children:"Download QR"})]}),Object(f.jsxs)("li",{children:[Object(f.jsx)("div",{children:Object(f.jsx)("a",{type:"button",onClick:D,className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.i,color:"grey",size:"lg"})})}),Object(f.jsx)("div",{className:"subtitle",children:"Delete"})]})]}):null}),Object(f.jsx)(be,{isSidebarOpen:e.isSidebarOpen,onSidebarToggle:C,selectedRow:{selectedFlatRows:null!=p.map((function(e){return e.original}))[0]?p.map((function(e){return e.original}))[0]:p.map((function(e){return e.original}))[1]},resetAddReagentForm:e.resetAddReagentForm,changeAddReagentForm:e.changeAddReagentForm,postReagent:e.postReagent}),Object(f.jsx)(fe,{isModalOpen:R,handleModalClose:function(){E(!1)},handleModalOpen:k,selectedRow:{selectedFlatRows:null!=p.map((function(e){return e.original}))[0]?p.map((function(e){return e.original}))[0]:p.map((function(e){return e.original}))[1]},putReagent:e.putReagent})]})]})},Ne=function(e){var t=Object(n.useMemo)((function(){return de}),[]),s=Object(n.useMemo)((function(){return e.deletedReagents}),[]),a=Object(Q.useTable)({columns:t,data:s,initialState:{sortBy:[{id:"updatedAt",desc:!0}],hiddenColumns:["updatedAt"]}},Q.useGlobalFilter,Q.useSortBy,Q.useExpanded,Q.useRowSelect,(function(e){e.visibleColumns.push((function(e){return[].concat(Object(Y.a)(e),[{id:"selection",Header:function(e){var t=e.getToggleAllRowsSelectedProps;return Object(f.jsx)(te,Object(i.a)({},t()))},Cell:function(e){var t=e.row;return Object(f.jsx)(te,Object(i.a)({},t.getToggleRowSelectedProps()))}}])}))})),c=a.getTableProps,l=a.getTableBodyProps,o=a.headerGroups,d=a.rows,j=a.prepareRow,u=a.state,b=a.setGlobalFilter,p=a.selectedFlatRows,h=a.visibleColumns,x=u.globalFilter,O=Object(n.useState)(""),g=Object(T.a)(O,2),m=(g[0],g[1],Object(n.useState)(!1)),v=Object(T.a)(m,2),y=(v[0],v[1],Object(n.useState)(!1)),N=Object(T.a)(y,2),w=(N[0],N[1],function(){p.forEach((function(t){var s={_id:t.original._id,status:"OK"};e.putReagent(s)}))}),S=r.a.useCallback((function(e){var t=e.row;return Object(f.jsx)(pe,{reagentValues:t.original})}));return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{style:{height:"61px","border-bottom":"1px solid #E2E2E4","background-color":"white",width:"83.3333%",display:"flex","align-items":"center",position:"fixed","z-index":"10"},className:"row header table",children:[Object(f.jsx)("div",{className:"col-6 col-sm-8 col-lg-6",children:Object(f.jsx)(ee,{filter:x,setFilter:b})}),Object(f.jsx)("div",{className:"col-2 ml-auto text-right"})]}),p[0]?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"action-button-row row d-xl-none float-left",children:Object(f.jsx)("div",{className:"col-2 col-md-1",children:Object(f.jsx)("a",{type:"button",onClick:w,style:{backgroundColor:"rgba(67, 47, 135, 0.9)",boxShadow:"0px 0px 5px 0px rgba(67, 47, 135, 0.9)"},className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.j,color:"white",size:"lg"})})})}),Object(f.jsx)("div",{className:"row proxy-row d-xl-none"})]}):null,Object(f.jsxs)("div",{className:"table-container row",children:[Object(f.jsx)("div",{style:{"padding-top":"10px","padding-bottom":"0px","padding-left":"0px","padding-right":"10px"},className:"col-11",children:Object(f.jsxs)("table",Object(i.a)(Object(i.a)({},c()),{},{children:[Object(f.jsx)("thead",{children:o.map((function(e){return Object(f.jsx)("tr",Object(i.a)(Object(i.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(f.jsxs)("th",Object(i.a)(Object(i.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(f.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(f.jsx)(Z.a,{}):Object(f.jsx)(Z.b,{}):""})]}))}))}))}))}),Object(f.jsx)("tbody",Object(i.a)(Object(i.a)({},l()),{},{children:d.map((function(e,t){return j(e),Object(f.jsxs)(r.a.Fragment,Object(i.a)(Object(i.a)({},e.getRowProps()),{},{children:[Object(f.jsx)("tr",{children:e.cells.map((function(e){return Object(f.jsx)("td",Object(i.a)(Object(i.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}),e.isExpanded?Object(f.jsx)("tr",{children:Object(f.jsx)("td",{colSpan:h.length,children:S({row:e})})}):null]}))}))}))]}))}),Object(f.jsx)("div",{className:"col-1 text-center button-col d-none d-xl-block",children:p[0]?Object(f.jsx)("ul",{className:"list-unstyled",children:Object(f.jsxs)("li",{children:[Object(f.jsx)("div",{className:"text-center",children:Object(f.jsx)("a",{type:"button",onClick:w,style:{backgroundColor:"rgba(67, 47, 135, 0.9)"},className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.j,color:"white",size:"lg"})})}),Object(f.jsx)("div",{className:"subtitle",children:"Restore"})]})}):null})]})]})},we=[{Header:function(){return null},id:"expander",Cell:function(e){var t=e.row;return Object(f.jsx)("span",Object(i.a)(Object(i.a)({},t.getToggleRowExpandedProps()),{},{children:t.isExpanded?Object(f.jsx)(Z.c,{}):Object(f.jsx)(Z.d,{})}))}},{Header:"Date Created",accessor:"dateCreated",Cell:function(e){var t=e.value;return null!=t?Object(X.a)(new Date(t),"dd/MM/yyyy"):""}},{Header:"Reagent Name",accessor:"reagentName"},{Header:"Lot Nr",accessor:"lotNr"},{Header:"Expiry Date",accessor:"expiryDate",Cell:function(e){var t=e.value;return null!=t?new Date(t)<new Date?Object(f.jsx)("span",{style:{color:"#F08080"},children:Object(X.a)(new Date(t),"dd/MM/yyyy")}):Object(f.jsx)("span",{children:Object(X.a)(new Date(t),"dd/MM/yyyy")}):""}},{Header:"Status",accessor:"status",Cell:function(e){switch(e.value){case"DISPOSED":return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{style:{color:"orange"},children:"Disposed"})," ",Object(f.jsx)("span",{style:{backgroundColor:"orange",height:"10px",width:"10px",borderRadius:"50%",display:"inline-block"}})]});case"DELETED":return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{style:{color:"#F08080"},children:"Deleted"})," ",Object(f.jsx)("span",{style:{backgroundColor:"#F08080",height:"10px",width:"10px",borderRadius:"50%",display:"inline-block"}})]});case"OK":return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{style:{color:"lightgreen"},children:"Ok"})," ",Object(f.jsx)("span",{style:{backgroundColor:"lightgreen",height:"10px",width:"10px",borderRadius:"50%",display:"inline-block"}})]});default:return""}},canGroupBy:!1},{Header:"Created By",accessor:"createdBy"},{Header:"Updated At",accessor:"updatedAt"}],Se=function(e){return e?void 0:"Required"},Re=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).handleSubmit=function(e){var t=new Date(e.expiryDate);t=t.toISOString();var s={_id:n.props.selectedRow.selectedFlatRows._id,reagentName:e.reagentName,lotNr:e.lotNr,expiryDate:t,status:e.status};if(e.status!=n.state.status&&"DISPOSED"==e.status)var r="dispose";else r="editDetails";n.props.putSecReagent(s,r),n.props.handleModalClose()},n.state={reagentName:"",lotNr:"",expiryDate:null,status:""},n}return Object(d.a)(s,[{key:"componentWillReceiveProps",value:function(e){this.setState({reagentName:e.selectedRow.selectedFlatRows?e.selectedRow.selectedFlatRows.reagentName:""}),this.setState({lotNr:e.selectedRow.selectedFlatRows?e.selectedRow.selectedFlatRows.lotNr:""}),this.setState({expiryDate:e.selectedRow.selectedFlatRows?e.selectedRow.selectedFlatRows.expiryDate.substring(0,10):null}),this.setState({status:e.selectedRow.selectedFlatRows?e.selectedRow.selectedFlatRows.status:""})}},{key:"render",value:function(){var e=this;return Object(f.jsxs)(F.a,{show:this.props.isModalOpen,onHide:this.props.handleModalClose,children:[Object(f.jsx)(F.a.Header,{closeButton:!0,children:Object(f.jsx)("h4",{children:"Edit Reagent"})}),Object(f.jsx)(F.a.Body,{children:Object(f.jsx)("div",{className:"container-fluid",children:Object(f.jsx)(x.b,{onSubmit:this.handleSubmit,initialValues:{reagentName:this.state.reagentName,lotNr:this.state.lotNr,expiryDate:this.state.expiryDate,status:this.state.status},render:function(t){var s=t.handleSubmit,n=t.form,r=t.submitting,a=t.pristine;t.values;return Object(f.jsx)("div",{className:"row ml-2 mt-2",children:Object(f.jsx)("div",{className:"col-12",children:Object(f.jsxs)("form",{id:"editReagentForm",onSubmit:s,children:[Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)(x.a,{name:"reagentName",component:"input",type:"text",validate:Se,children:function(e){var t=e.input,s=e.meta;return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{children:"Reagent Name"}),Object(f.jsx)("input",Object(i.a)(Object(i.a)({},t),{},{placeholder:"Reagent Name"})),s.error&&s.touched&&Object(f.jsx)("span",{className:"error",children:s.error})]})})}}),Object(f.jsx)(x.a,{name:"lotNr",component:"input",type:"text",validate:Se,children:function(e){var t=e.input,s=e.meta;return Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{children:"Lot Number"}),Object(f.jsx)("input",Object(i.a)(Object(i.a)({},t),{},{placeholder:"Lot Number"})),s.error&&s.touched&&Object(f.jsx)("span",{className:"error",children:s.error})]})}})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)(x.a,{name:"expiryDate",component:"input",type:"date",validate:Se,children:function(e){var t=e.input,s=e.meta;return Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{children:"Expiry Date"}),Object(f.jsx)("input",Object(i.a)({},t)),s.error&&s.touched&&Object(f.jsx)("span",{className:"error",children:s.error})]})}}),Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("label",{className:"mr-5",children:"Status"}),Object(f.jsxs)(x.a,{name:"status",component:"select",defaultValue:e.state.status,children:[Object(f.jsx)("option",{selected:!0,value:"OK",children:"OK"}),Object(f.jsx)("option",{value:"DISPOSED",children:"DISPOSED"})]})]})]}),Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("div",{className:"col-12",children:[Object(f.jsx)("button",{className:"cancel-button",type:"button",onClick:function(){e.props.handleModalClose(),n.getRegisteredFields().map((function(e){return n.resetFieldState(e)}))},children:"Cancel"}),Object(f.jsx)("button",{className:"submit-button",type:"submit",disabled:r||a,children:"Save Changes"})]})})]})})})}})})})]})}}]),s}(n.Component),Ee=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(e){return Object(o.a)(this,s),t.call(this,e)}return Object(d.a)(s,[{key:"render",value:function(){return Object(f.jsxs)("div",{style:{padding:"20px"},className:"row",children:[Object(f.jsxs)("div",{style:{borderRight:"1px solid lightgrey"},className:"col-4",children:[Object(f.jsxs)("div",{className:"row reagent-card-value",children:[Object(f.jsx)("div",{className:"col",children:Object(f.jsx)("b",{children:"First Used By"})}),Object(f.jsx)("div",{className:"col",children:this.props.reagentValues.firstUsedBy})]}),Object(f.jsxs)("div",{className:"row reagent-card-value",children:[Object(f.jsx)("div",{className:"col",children:Object(f.jsx)("b",{children:"Created By"})}),Object(f.jsx)("div",{className:"col",children:this.props.reagentValues.createdBy})]}),Object(f.jsxs)("div",{className:"row reagent-card-value",children:[Object(f.jsx)("div",{className:"col",children:Object(f.jsx)("b",{children:"Last Edited By"})}),Object(f.jsx)("div",{className:"col",children:this.props.reagentValues.lastEditedBy})]}),Object(f.jsxs)("div",{className:"row reagent-card-value",children:[Object(f.jsx)("div",{className:"col",children:Object(f.jsx)("b",{children:"Disposed By"})}),Object(f.jsx)("div",{className:"col",children:this.props.reagentValues.discardedBy})]})]}),Object(f.jsxs)("div",{className:"col-8",children:[Object(f.jsx)("div",{className:"row reagent-card-value",children:Object(f.jsx)("div",{className:"col",children:Object(f.jsx)("h4",{children:"Compositions"})})}),this.props.reagentValues.reagents?this.props.reagentValues.reagents.map((function(e,t){return Object(f.jsxs)("div",{className:"row reagent-card-value",children:[Object(f.jsx)("div",{className:"col col-1",children:Object(f.jsxs)("b",{children:[t+1,"."]})}),Object(f.jsx)("div",{className:"col col-2",children:Object(f.jsx)("b",{children:"LOT Number"})}),Object(f.jsx)("div",{className:"col",children:e.lotNr}),Object(f.jsx)("div",{className:"col col-2",children:Object(f.jsx)("b",{children:"Reagent Name"})}),Object(f.jsx)("div",{className:"col",children:e.reagentName})]})})):""]})]})}}]),s}(n.Component),Te=function(e){var t=Object(n.useMemo)((function(){return we}),[]),s=Object(n.useMemo)((function(){return e.secReagents}),[]),a=Object(Q.useTable)({columns:t,data:s,initialState:{sortBy:[{id:"dateCreated",desc:!0}],hiddenColumns:["updatedAt"]}},Q.useGlobalFilter,Q.useSortBy,Q.useExpanded,Q.useRowSelect,(function(e){e.visibleColumns.push((function(e){return[].concat(Object(Y.a)(e),[{id:"selection",Header:function(e){var t=e.getToggleAllRowsSelectedProps;return Object(f.jsx)(te,Object(i.a)({},t()))},Cell:function(e){var t=e.row;return Object(f.jsx)(te,Object(i.a)({},t.getToggleRowSelectedProps()))}}])}))})),c=a.getTableProps,l=a.getTableBodyProps,o=a.headerGroups,d=a.rows,j=a.prepareRow,u=a.state,b=a.setGlobalFilter,p=a.selectedFlatRows,h=a.visibleColumns,x=u.globalFilter,O=Object(n.useState)(""),g=Object(T.a)(O,2),m=(g[0],g[1],Object(n.useState)(!1)),v=Object(T.a)(m,2),y=v[0],N=v[1],w=function(){N(!0)},S=function(){p.forEach((function(t){if(t.original){var s={_id:t.original._id,status:"DELETED"};e.putSecReagent(s)}}))},R=function(){p.forEach((function(t){if(t.original){var s={_id:t.original._id,status:"DISPOSED"};e.putSecReagent(s,"dispose")}}))},E=function(){document.getElementById("hidden-qr").style.display="block",p.forEach((function(e){if(null!=e.original){var t=String(e.original._id)+"-ext",s=document.getElementById("".concat(t));s.style.display="block",ge()(s).then((function(e){s.style.display="none";var n=e.toDataURL("image/png").replace("image/png","image/octet-stream"),r=document.createElement("a");r.href=n,r.download=t+".png",document.body.appendChild(r),r.click(),document.body.removeChild(r)}))}})),document.getElementById("hidden-qr").style.display="none"},C=r.a.useCallback((function(e){var t=e.row;return Object(f.jsx)(Ee,{reagentValues:t.original})}));return e.secReagentsLoading?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"row header table",children:Object(f.jsx)("div",{className:"col-12 col-lg-6",children:Object(f.jsx)(ee,{filter:x,setFilter:b})})}),Object(f.jsx)("div",{className:"table-container row",children:Object(f.jsx)("div",{style:{"padding-top":"100px","padding-bottom":"0px","padding-left":"0px","padding-right":"10px"},className:"col-11 text-center",children:Object(f.jsx)(re.a,{type:"TailSpin",color:"rgba(67, 47, 135, 0.9)",height:50,width:50,timeout:3e3})})})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"row header table",children:Object(f.jsx)("div",{className:"col-12 col-lg-6",children:Object(f.jsx)(ee,{filter:x,setFilter:b})})}),p[0]?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"action-button-row row d-xl-none float-left",children:[Object(f.jsx)("div",{className:"col-2 col-md-1",children:Object(f.jsx)("a",{type:"button",style:{backgroundColor:"rgba(67, 47, 135, 0.9)",boxShadow:"0px 0px 5px 0px rgba(67, 47, 135, 0.9)"},onClick:w,className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.d,color:"white",size:"lg"})})}),Object(f.jsx)("div",{className:"col-2 col-md-1",children:Object(f.jsx)("a",{type:"button",onClick:R,className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.h,color:"rgba(67, 47, 135, 0.9)",size:"lg"})})}),Object(f.jsx)("div",{className:"col-2 col-md-1",children:Object(f.jsx)("a",{type:"button",onClick:E,className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.a,color:"rgba(67, 47, 135, 0.9)",size:"lg"})})}),Object(f.jsx)("div",{className:"col-2 col-md-1",children:Object(f.jsx)("a",{type:"button",onClick:S,className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.i,color:"grey",size:"lg"})})})]}),Object(f.jsx)("div",{className:"row proxy-row d-xl-none"})]}):null,Object(f.jsxs)("div",{className:"table-container row",children:[Object(f.jsxs)("div",{style:{"padding-top":"10px","padding-bottom":"0px","padding-left":"0px","padding-right":"10px"},className:"col-11",children:[Object(f.jsxs)("table",Object(i.a)(Object(i.a)({},c()),{},{children:[Object(f.jsx)("thead",{children:o.map((function(e){return Object(f.jsx)("tr",Object(i.a)(Object(i.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(f.jsxs)("th",Object(i.a)(Object(i.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(f.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(f.jsx)(Z.a,{}):Object(f.jsx)(Z.b,{}):""})]}))}))}))}))}),Object(f.jsx)("tbody",Object(i.a)(Object(i.a)({},l()),{},{children:d.map((function(e,t){return j(e),Object(f.jsxs)(r.a.Fragment,Object(i.a)(Object(i.a)({},e.getRowProps()),{},{children:[Object(f.jsx)("tr",{children:e.cells.map((function(e){return Object(f.jsx)("td",Object(i.a)(Object(i.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}),e.isExpanded?Object(f.jsx)("tr",{children:Object(f.jsx)("td",{colSpan:h.length,children:C({row:e})})}):null]}))}))}))]})),Object(f.jsx)("div",{id:"hidden-qr",children:p.map((function(e){return null==e.original?null:Object(f.jsxs)("div",{style:{display:"none"},id:String(e.original._id)+"-ext",className:"container",children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("h5",{children:[Object(f.jsx)("b",{children:"LOT Number"}),": ",e.original.lotNr," ","\n"]})}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)(xe.a,{id:String(e.original._id),value:String(e.original._id),size:290,level:"H",includeMargin:!1})}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("p",{children:[Object(f.jsx)("b",{children:"Unique ID"}),": ",e.original._id]})," "]})]},e.original._id)}))})]}),Object(f.jsx)("div",{className:"col-1 text-center button-col d-none d-xl-block",children:p[0]?Object(f.jsxs)("ul",{className:"list-unstyled",children:[Object(f.jsxs)("li",{children:[Object(f.jsx)("div",{children:Object(f.jsx)("a",{type:"button",onClick:w,style:{backgroundColor:"rgba(67, 47, 135, 0.9)",boxShadow:"0px 0px 5px 0px rgba(67, 47, 135, 0.9)"},className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.d,color:"white",size:"lg"})})}),Object(f.jsx)("div",{className:"subtitle",children:"Edit"})]}),Object(f.jsxs)("li",{children:[Object(f.jsx)("div",{children:Object(f.jsx)("a",{type:"button",onClick:R,className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.h,color:"rgba(67, 47, 135, 0.9)",size:"lg"})})}),Object(f.jsx)("div",{className:"subtitle",children:"Dispose"})]}),Object(f.jsxs)("li",{children:[Object(f.jsx)("div",{children:Object(f.jsx)("a",{type:"button",onClick:E,className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.a,color:"rgba(67, 47, 135, 0.9)",size:"lg"})})}),Object(f.jsx)("div",{className:"subtitle",children:"Download QR"})]}),Object(f.jsxs)("li",{children:[Object(f.jsx)("div",{children:Object(f.jsx)("a",{type:"button",onClick:S,className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.i,color:"grey",size:"lg"})})}),Object(f.jsx)("div",{className:"subtitle",children:"Delete"})]})]}):null}),Object(f.jsx)(Re,{isModalOpen:y,handleModalClose:function(){N(!1)},handleModalOpen:w,selectedRow:{selectedFlatRows:null!=p.map((function(e){return e.original}))[0]?p.map((function(e){return e.original}))[0]:p.map((function(e){return e.original}))[1]},putSecReagent:e.putSecReagent})]})]})},Ce=function(e){var t=Object(n.useMemo)((function(){return we}),[]),s=Object(n.useMemo)((function(){return e.secReagents}),[]),a=Object(Q.useTable)({columns:t,data:s,initialState:{sortBy:[{id:"updatedAt",desc:!0}],hiddenColumns:["updatedAt"]}},Q.useGlobalFilter,Q.useSortBy,Q.useExpanded,Q.useRowSelect,(function(e){e.visibleColumns.push((function(e){return[].concat(Object(Y.a)(e),[{id:"selection",Header:function(e){var t=e.getToggleAllRowsSelectedProps;return Object(f.jsx)(te,Object(i.a)({},t()))},Cell:function(e){var t=e.row;return Object(f.jsx)(te,Object(i.a)({},t.getToggleRowSelectedProps()))}}])}))})),c=a.getTableProps,l=a.getTableBodyProps,o=a.headerGroups,d=a.rows,j=a.prepareRow,u=a.state,b=a.setGlobalFilter,p=a.selectedFlatRows,h=a.visibleColumns,x=u.globalFilter,O=Object(n.useState)(""),g=Object(T.a)(O,2),m=(g[0],g[1],Object(n.useState)(!1)),v=Object(T.a)(m,2),y=v[0],N=v[1],w=function(){N(!0)},S=function(){p.forEach((function(t){if(t.original){var s={_id:t.original._id,status:"DELETED"};e.putSecReagent(s)}}))},R=function(){p.forEach((function(t){if(t.original){var s={_id:t.original._id,status:"DISPOSED"};e.putSecReagent(s,"dispose")}}))},E=function(){document.getElementById("hidden-qr").style.display="block",p.forEach((function(e){if(null!=e.original){var t=String(e.original._id)+"-ext",s=document.getElementById("".concat(t));s.style.display="block",ge()(s).then((function(e){s.style.display="none";var n=e.toDataURL("image/png").replace("image/png","image/octet-stream"),r=document.createElement("a");r.href=n,r.download=t+".png",document.body.appendChild(r),r.click(),document.body.removeChild(r)}))}})),document.getElementById("hidden-qr").style.display="none"},C=r.a.useCallback((function(e){var t=e.row;return Object(f.jsx)("pre",{style:{fontSize:"10px"},children:Object(f.jsx)("code",{children:JSON.stringify({values:t.original},null,2)})})}),[]);return e.secReagentsLoading?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"row header table",children:Object(f.jsx)("div",{className:"col-12 col-lg-6",children:Object(f.jsx)(ee,{filter:x,setFilter:b})})}),Object(f.jsx)("div",{className:"table-container row",children:Object(f.jsx)("div",{style:{"padding-top":"100px","padding-bottom":"0px","padding-left":"0px","padding-right":"10px"},className:"col-11 text-center",children:Object(f.jsx)(re.a,{type:"TailSpin",color:"rgba(67, 47, 135, 0.9)",height:50,width:50,timeout:3e3})})})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"row header table",children:Object(f.jsx)("div",{className:"col-12 col-lg-6",children:Object(f.jsx)(ee,{filter:x,setFilter:b})})}),p[0]?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"action-button-row row d-xl-none float-left",children:[Object(f.jsx)("div",{className:"col-2 col-md-1",children:Object(f.jsx)("a",{type:"button",style:{backgroundColor:"rgba(67, 47, 135, 0.9)",boxShadow:"0px 0px 5px 0px rgba(67, 47, 135, 0.9)"},onClick:w,className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.d,color:"white",size:"lg"})})}),Object(f.jsx)("div",{className:"col-2 col-md-1",children:Object(f.jsx)("a",{type:"button",onClick:R,className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.h,color:"rgba(67, 47, 135, 0.9)",size:"lg"})})}),Object(f.jsx)("div",{className:"col-2 col-md-1",children:Object(f.jsx)("a",{type:"button",onClick:E,className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.a,color:"rgba(67, 47, 135, 0.9)",size:"lg"})})}),Object(f.jsx)("div",{className:"col-2 col-md-1",children:Object(f.jsx)("a",{type:"button",onClick:S,className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.i,color:"grey",size:"lg"})})})]}),Object(f.jsx)("div",{className:"row proxy-row d-xl-none"})]}):null,Object(f.jsxs)("div",{className:"table-container row",children:[Object(f.jsxs)("div",{style:{"padding-top":"10px","padding-bottom":"0px","padding-left":"0px","padding-right":"10px"},className:"col-11",children:[Object(f.jsxs)("table",Object(i.a)(Object(i.a)({},c()),{},{children:[Object(f.jsx)("thead",{children:o.map((function(e){return Object(f.jsx)("tr",Object(i.a)(Object(i.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(f.jsxs)("th",Object(i.a)(Object(i.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(f.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(f.jsx)(Z.a,{}):Object(f.jsx)(Z.b,{}):""})]}))}))}))}))}),Object(f.jsx)("tbody",Object(i.a)(Object(i.a)({},l()),{},{children:d.map((function(e,t){return j(e),Object(f.jsxs)(r.a.Fragment,Object(i.a)(Object(i.a)({},e.getRowProps()),{},{children:[Object(f.jsx)("tr",{children:e.cells.map((function(e){return Object(f.jsx)("td",Object(i.a)(Object(i.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}),e.isExpanded?Object(f.jsx)("tr",{children:Object(f.jsx)("td",{colSpan:h.length,children:C({row:e})})}):null]}))}))}))]})),Object(f.jsx)("div",{id:"hidden-qr",children:p.map((function(e){return null==e.original?null:Object(f.jsxs)("div",{style:{display:"none"},id:String(e.original._id)+"-ext",className:"container",children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("h5",{children:[Object(f.jsx)("b",{children:"LOT Number"}),": ",e.original.lotNr," ","\n"]})}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)(xe.a,{id:String(e.original._id),value:String(e.original._id),size:290,level:"H",includeMargin:!1})}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("p",{children:[Object(f.jsx)("b",{children:"Unique ID"}),": ",e.original._id]})," "]}),Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("p",{children:[Object(f.jsx)("b",{children:"Pack No"}),": 1/5"]})})]},e.original._id)}))})]}),Object(f.jsx)("div",{className:"col-1 text-center button-col d-none d-xl-block",children:p[0]?Object(f.jsxs)("ul",{className:"list-unstyled",children:[Object(f.jsxs)("li",{children:[Object(f.jsx)("div",{children:Object(f.jsx)("a",{type:"button",onClick:w,style:{backgroundColor:"rgba(67, 47, 135, 0.9)",boxShadow:"0px 0px 5px 0px rgba(67, 47, 135, 0.9)"},className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.d,color:"white",size:"lg"})})}),Object(f.jsx)("div",{className:"subtitle",children:"Edit"})]}),Object(f.jsxs)("li",{children:[Object(f.jsx)("div",{children:Object(f.jsx)("a",{type:"button",onClick:R,className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.h,color:"rgba(67, 47, 135, 0.9)",size:"lg"})})}),Object(f.jsx)("div",{className:"subtitle",children:"Dispose"})]}),Object(f.jsxs)("li",{children:[Object(f.jsx)("div",{children:Object(f.jsx)("a",{type:"button",onClick:E,className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.a,color:"rgba(67, 47, 135, 0.9)",size:"lg"})})}),Object(f.jsx)("div",{className:"subtitle",children:"Download QR"})]}),Object(f.jsxs)("li",{children:[Object(f.jsx)("div",{children:Object(f.jsx)("a",{type:"button",onClick:S,className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.i,color:"grey",size:"lg"})})}),Object(f.jsx)("div",{className:"subtitle",children:"Delete"})]})]}):null}),Object(f.jsx)(Re,{isModalOpen:y,handleModalClose:function(){N(!1)},handleModalOpen:w,selectedRow:{selectedFlatRows:null!=p.map((function(e){return e.original}))[0]?p.map((function(e){return e.original}))[0]:p.map((function(e){return e.original}))[1]},putSecReagent:e.putSecReagent})]})]})},ke=function(e){var t=Object(n.useMemo)((function(){return we}),[]),s=Object(n.useMemo)((function(){return e.deletedSecReagents}),[]),a=Object(Q.useTable)({columns:t,data:s,initialState:{sortBy:[{id:"updatedAt",desc:!0}],hiddenColumns:["updatedAt"]}},Q.useGlobalFilter,Q.useSortBy,Q.useExpanded,Q.useRowSelect,(function(e){e.visibleColumns.push((function(e){return[].concat(Object(Y.a)(e),[{id:"selection",Header:function(e){var t=e.getToggleAllRowsSelectedProps;return Object(f.jsx)(te,Object(i.a)({},t()))},Cell:function(e){var t=e.row;return Object(f.jsx)(te,Object(i.a)({},t.getToggleRowSelectedProps()))}}])}))})),c=a.getTableProps,l=a.getTableBodyProps,o=a.headerGroups,d=a.rows,j=a.prepareRow,u=a.state,b=a.setGlobalFilter,p=a.selectedFlatRows,h=a.visibleColumns,x=u.globalFilter,O=Object(n.useState)(""),g=Object(T.a)(O,2),m=(g[0],g[1],function(){p.forEach((function(t){var s={_id:t.original._id,status:"OK"};e.putSecReagent(s)}))}),v=r.a.useCallback((function(e){var t=e.row;return Object(f.jsx)(Ee,{reagentValues:t.original})}));return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"row header table",children:Object(f.jsx)("div",{className:"col-12 col-lg-6",children:Object(f.jsx)(ee,{filter:x,setFilter:b})})}),p[0]?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"action-button-row row d-xl-none float-left",children:Object(f.jsx)("div",{className:"col-2 col-md-1",children:Object(f.jsx)("a",{type:"button",style:{backgroundColor:"rgba(67, 47, 135, 0.9)",boxShadow:"0px 0px 5px 0px rgba(67, 47, 135, 0.9)"},onClick:m,className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.j,color:"white",size:"lg"})})})}),Object(f.jsx)("div",{className:"row proxy-row d-xl-none"})]}):null,Object(f.jsxs)("div",{className:"table-container row",children:[Object(f.jsx)("div",{style:{"padding-top":"10px","padding-bottom":"0px","padding-left":"0px","padding-right":"10px"},className:"col-11",children:Object(f.jsxs)("table",Object(i.a)(Object(i.a)({},c()),{},{children:[Object(f.jsx)("thead",{children:o.map((function(e){return Object(f.jsx)("tr",Object(i.a)(Object(i.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(f.jsxs)("th",Object(i.a)(Object(i.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(f.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(f.jsx)(Z.a,{}):Object(f.jsx)(Z.b,{}):""})]}))}))}))}))}),Object(f.jsx)("tbody",Object(i.a)(Object(i.a)({},l()),{},{children:d.map((function(e,t){return j(e),Object(f.jsxs)(r.a.Fragment,Object(i.a)(Object(i.a)({},e.getRowProps()),{},{children:[Object(f.jsx)("tr",{children:e.cells.map((function(e){return Object(f.jsx)("td",Object(i.a)(Object(i.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}),e.isExpanded?Object(f.jsx)("tr",{children:Object(f.jsx)("td",{colSpan:h.length,children:v({row:e})})}):null]}))}))}))]}))}),Object(f.jsx)("div",{className:"col-1 text-center button-col d-none d-xl-block",children:p[0]?Object(f.jsx)("ul",{className:"list-unstyled",children:Object(f.jsxs)("li",{children:[Object(f.jsx)("div",{className:"textCenter",children:Object(f.jsx)("a",{type:"button",onClick:m,style:{backgroundColor:"rgba(67, 47, 135, 0.9)",boxShadow:"0px 0px 5px 0px rgba(67, 47, 135, 0.9)"},className:"dot action-button",children:Object(f.jsx)(_.a,{icon:U.j,color:"white",size:"lg"})})}),Object(f.jsx)("div",{className:"subtitle",children:"Restore"})]})}):null})]})]})},De=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).toggleSidebar=function(){n.setState({isSidebarOpen:!n.state.isSidebarOpen})},n.state={currentPath:"",isSidebarOpen:!1},n}return Object(d.a)(s,[{key:"componentDidMount",value:function(){var e=window.location.pathname.split("/").splice(2).join("/");this.setState({currentPath:e})}},{key:"renderTable",value:function(e){switch(e){case"primary-reagents/overview":return Object(f.jsx)(ve,{reagents:this.props.reagents,reagentsErrMess:this.props.reagentsErrMess,reagentsLoading:this.props.reagentsLoading,postReagent:this.props.postReagent,deleteReagent:this.props.deleteReagent,putReagent:this.props.putReagent,toggleSidebar:this.toggleSidebar,isSidebarOpen:this.state.isSidebarOpen});case"primary-reagents/recent":return Object(f.jsx)(ye,{reagents:this.props.reagents,reagentsErrMess:this.props.reagentsErrMess,reagentsLoading:this.props.reagentsLoading,postReagent:this.props.postReagent,deleteReagent:this.props.deleteReagent,putReagent:this.props.putReagent,toggleSidebar:this.toggleSidebar,isSidebarOpen:this.state.isSidebarOpen});case"primary-reagents/deleted":return Object(f.jsx)(Ne,{deletedReagents:this.props.deletedReagents,fetchReagents:this.props.fetchReagents,reagentsErrMess:this.props.reagentsErrMess,postReagent:this.props.postReagent,deleteReagent:this.props.deleteReagent,putReagent:this.props.putReagent});case"secondary-reagents/overview":return Object(f.jsx)(Te,{secReagents:this.props.secReagents,secReagentsLoading:this.props.secReagentsLoading,secReagentsErrMess:this.props.errMess,deleteSecReagent:this.props.deleteSecReagent,putSecReagent:this.props.putSecReagent});case"secondary-reagents/recent":return Object(f.jsx)(Ce,{secReagents:this.props.secReagents,secReagentsLoading:this.props.secReagentsLoading,secReagentsErrMess:this.props.errMess,deleteSecReagent:this.props.deleteSecReagent,putSecReagent:this.props.putSecReagent});case"secondary-reagents/deleted":return Object(f.jsx)(ke,{deletedSecReagents:this.props.deletedSecReagents,secReagentsErrMess:this.props.errMess,deleteSecReagent:this.props.deleteSecReagent,putSecReagent:this.props.putSecReagent})}}},{key:"render",value:function(){return Object(f.jsxs)("div",{id:"page-wrap",className:"container-fluid",children:[Object(f.jsx)("a",{onClick:this.toggleSidebar,children:Object(f.jsx)("div",{className:"sidebar-open-"+String(this.state.isSidebarOpen)})}),Object(f.jsx)(v,{pageWrapId:"page-wrap",outerContainerId:"outer-container",logoutUser:this.props.logoutUser}),Object(f.jsxs)("div",{className:"row min-vh-100",children:[Object(f.jsxs)("div",{style:{position:"fixed",zIndex:"7"},className:"col-2 d-flex flex-column h-100",children:[Object(f.jsx)("div",{className:"row header",children:Object(f.jsx)("div",{style:{paddingRight:"0px"},className:"col my-auto ml-5",children:Object(f.jsx)("span",{className:"menu-header d-none d-xl-inline",children:" Inventory "})})}),Object(f.jsx)("div",{style:{"border-right":"1px solid #E2E2E4",backgroundColor:"#F6F5FA"},className:"row side-info justify-content-center bg-blue flex-grow-1",children:Object(f.jsxs)("div",{style:{"margin-top":"15px"},className:"container-fluid side-info-container",children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("div",{style:{"margin-right":"15px","border-radius":"7px","background-color":"rgba(47, 73, 209, 0.15)",height:"70px","padding-top":"20px","box-shadow":"0px 0px 5px 0px lightgrey",paddingLeft:"0px",paddingRight:"0px"},className:"col text-center section-selection",children:[Object(f.jsx)("a",{className:"switch",href:"primary-reagents"==this.state.currentPath.split("/")[0]?"/inventory/secondary-reagents/overview":"/inventory/primary-reagents/overview",children:Object(f.jsx)("span",{className:"dot",style:{height:"30px",border:"0.5px solid rgba(229, 229, 229, 1)",width:"30px","background-color":"#ffffff","border-radius":"50%",display:"inline-block","box-shadow":"0px 0px 1px 0px #888888"},children:Object(f.jsx)(K.a,{})})}),Object(f.jsx)("span",{className:"d-none d-lg-inline",style:{"font-weight":"700","font-size":"large",color:"rgba(237, 139, 0, 0.95)","padding-left":"10px","vertical-align":"middle"},children:"primary-reagents"==this.state.currentPath.split("/")[0]?"Primary":"Secondary"})]})}),Object(f.jsx)("div",{style:{"margin-top":"30px"},className:"row section-choices",children:Object(f.jsx)("div",{className:"col text-center text-lg-left",style:{padding:"0px"},children:Object(f.jsxs)("ul",{className:"list-unstyled",children:[Object(f.jsx)("li",{children:Object(f.jsxs)("a",{type:"button",href:"primary-reagents"==this.state.currentPath.split("/")[0]?"/inventory/primary-reagents/overview":"/inventory/secondary-reagents/overview",className:"overview"==this.state.currentPath.split("/")[1]?"selected":"",children:[Object(f.jsx)("span",{children:Object(f.jsx)(W.a,{})})," ",Object(f.jsx)("span",{className:"d-none d-lg-inline",children:"Overview"})]})}),Object(f.jsx)("li",{children:Object(f.jsxs)("a",{type:"button",href:"primary-reagents"==this.state.currentPath.split("/")[0]?"/inventory/primary-reagents/recent":"/inventory/secondary-reagents/recent",className:"recent"==this.state.currentPath.split("/")[1]?"selected":"",children:[Object(f.jsx)("span",{children:Object(f.jsx)(g.e,{})})," ",Object(f.jsx)("span",{className:"d-none d-lg-inline",children:"Last Used"})]})}),Object(f.jsx)("li",{children:Object(f.jsxs)("a",{type:"button",href:"primary-reagents"==this.state.currentPath.split("/")[0]?"/inventory/primary-reagents/deleted":"/inventory/secondary-reagents/deleted",className:"deleted"==this.state.currentPath.split("/")[1]?"selected":"",children:[Object(f.jsx)("span",{children:Object(f.jsx)(g.b,{})})," ",Object(f.jsx)("span",{className:"d-none d-lg-inline",children:"Deleted"})]})})]})})}),Object(f.jsx)("div",{style:{position:"absolute",bottom:"10px",width:"80%"},className:"row",children:Object(f.jsx)("div",{style:{height:"80px","border-top":"1px solid rgba(229, 229, 229, 1)","padding-top":"13px"},className:"col text-center",children:Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{style:{paddingLeft:"0px"},className:"col-3",children:Object(f.jsx)("a",{href:"/account",className:"dot action-button",children:JSON.parse(localStorage.getItem("userData")).firstName.substring(0,1)+JSON.parse(localStorage.getItem("userData")).lastName.substring(0,1)})}),Object(f.jsxs)("div",{style:{"margin-left":"10px"},className:"col",children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("a",{style:{color:"black"},href:"/account",children:Object(f.jsx)("span",{className:"d-none d-xl-inline",style:{display:"block"},children:JSON.parse(localStorage.getItem("userData")).firstName+" "+JSON.parse(localStorage.getItem("userData")).lastName})})}),Object(f.jsx)("div",{style:{color:"gray"},className:"row",children:Object(f.jsx)("span",{className:"d-none d-xl-inline",style:{display:"block"},children:JSON.parse(localStorage.getItem("userData")).supervisor?"Supervisor":"Regular"})})]})]})})})]})})]}),Object(f.jsx)("div",{className:"col-10 offset-2",children:this.renderTable(this.state.currentPath)})]})]})}}]),s}(n.Component),Fe=s(80),Pe=s(63),Ae=s(156),Me=s(155),Le=function(e){return e?void 0:"Required"},_e=["January","February","March","April","May","June","July","August","September","October","November","December"],Ue=function(e){return Object(f.jsx)("div",{className:"col-xl-6 assay-cards",style:{width:"100%"},children:Object(f.jsxs)(Ae.a,{style:{backgroundColor:"white"},id:e.assayType._id,children:[Object(f.jsx)(Ae.a.Title,{children:Object(f.jsxs)("div",{style:{marginRight:"10px"},className:"row",children:[Object(f.jsx)("div",{className:"col-10",children:Object(f.jsx)("h4",{style:{padding:"10px"},children:Object(f.jsx)("b",{children:e.assayType.assayName})})}),Object(f.jsx)("div",{style:{paddingTop:"10px",paddingRight:"10px"},className:"col-1 ml-auto",children:Object(f.jsx)("a",{type:"button",onClick:function(){return e.deleteTestType(e.assayType._id)},children:Object(f.jsx)(_.a,{icon:U.h,color:"grey",size:"md"})})})]})}),Object(f.jsxs)(Ae.a.Body,{children:[Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-12",children:Object(f.jsx)("h4",{children:"Reagents"})}),e.assayType.metadata[0]?e.assayType.metadata[0].children.map((function(e,t){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{style:{color:"grey"},className:"col-6",children:Object(f.jsxs)("b",{children:["Reagent\xa0Input\xa0#",String(t+1)]})},e.key),Object(f.jsx)("div",{className:"col-6",children:e.label},e.key)]})})):null]}),Object(f.jsxs)("div",{className:"row mt-3",children:[Object(f.jsx)("div",{className:"col-12",children:Object(f.jsx)("h4",{children:"Reagent Data"})}),e.assayType.metadata[1]?e.assayType.metadata[1].children.map((function(e,t){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{style:{color:"grey"},className:"col-6",children:Object(f.jsxs)("b",{children:["Reagent\xa0Data\xa0#",String(t+1)]})},e.key),Object(f.jsx)("div",{className:"col-6",children:e.label},e.key)]})})):null]}),Object(f.jsxs)("div",{className:"row mt-3",children:[Object(f.jsx)("div",{className:"col-12",children:Object(f.jsx)("h4",{children:"Other"})}),e.assayType.metadata[2]?e.assayType.metadata[2].children.map((function(e,t){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{style:{color:"grey"},className:"col-6",children:Object(f.jsxs)("b",{children:["Other\xa0Input\xa0#",String(t+1)]})},e.key),Object(f.jsx)("div",{className:"col-6",children:e.label},e.key)]})})):null]})]})]},e.assayType._id)})},Ie=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(e){var r;return Object(o.a)(this,s),(r=t.call(this,e)).handleSubmit=function(){var e=Object(h.a)(p.a.mark((function e(t){var s,n,a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s={assayName:t.assayName,metadata:[{key:"reagents",children:[]},{key:"reagentData",children:[]},{key:"other",children:[]}]},t.reagents&&(n=(n=t.reagents.filter((function(e){return null!=e}))).map((function(e){var t=e.label.toLowerCase();return{key:t=t.replace(" ","_"),label:e.label,required:!0,type:"reagent"}})),s.metadata[0].children=n),t.reagentData&&(a=(a=t.reagentData.filter((function(e){return null!=e.label}))).map((function(e){var t=e.label.toLowerCase();return{key:t=t.replace(" ","_"),label:e.label,required:e.required,type:e.type}})),s.metadata[1].children=a),t.other&&(c=(c=t.other.filter((function(e){return null!=e.label}))).map((function(e){var t=e.label.toLowerCase();return{key:t=t.replace(" ","_"),label:e.label,required:e.required,type:e.type}})),s.metadata[2].children=c),r.props.postTestType(s);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.childRef=Object(n.createRef)(),r.state={isModalOpen:!1,assayTypes:e.testTypes,dateSeries:[],monthCounter:[]},r}return Object(d.a)(s,[{key:"componentDidMount",value:function(){var e=this.state.assayTypes.map((function(e){return new Date(e.createdAt)}));e.sort(),e=e.map((function(e){return e.toISOString().substring(0,7)})),e=Object(Y.a)(new Set(e)),this.setState({dateSeries:e})}},{key:"addToMonthCounter",value:function(e){this.setState((function(t){return{monthCounter:[].concat(Object(Y.a)(t.monthCounter),[e])}})),console.log(this.state.monthCounter)}},{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{id:"page-wrap",className:"container-fluid",children:[Object(f.jsx)(v,{pageWrapId:"page-wrap",outerContainerId:"outer-container",logoutUser:this.props.logoutUser}),Object(f.jsx)("div",{style:{"z-index":"10",position:"fixed","border-bottom":"1px solid #E2E2E4","background-color":"white","margin-top":"0px",padding:"10px",width:"110%"},className:"row header",children:Object(f.jsx)("div",{className:"col my-auto ml-5",children:Object(f.jsx)("span",{className:"menu-header",children:" Assay Types "})})}),Object(f.jsxs)("div",{className:"row min-vh-100",children:[Object(f.jsx)("div",{className:"col-4 d-none d-lg-block",children:Object(f.jsx)("div",{style:{"border-right":"1px solid #E2E2E4",paddingTop:"81px"},className:"row side-info d-flex flex-column h-100",children:Object(f.jsx)("div",{className:"col",children:Object(f.jsx)("div",{style:{"border-radius":"7px","background-color":"rgba(47, 73, 209, 0.15)","box-shadow":"0px 0px 5px 0px lightgrey",paddingTop:"10px",paddingBottom:"10px"},className:"container",children:Object(f.jsx)(x.b,{onSubmit:this.handleSubmit,mutators:Object(i.a)({},Fe.a),render:function(e){var t=e.handleSubmit,s=e.form.mutators,n=s.push,r=s.pop,a=e.pristine,c=(e.form,e.submitting);e.values;return Object(f.jsxs)("form",{id:"addAssayType",onSubmit:t,children:[Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)(x.a,{name:"assayName",component:"input",type:"text",validate:Le,children:function(e){var t=e.input,s=e.meta;return Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("div",{className:"col-12 col-xl-6",children:[Object(f.jsx)("input",Object(i.a)(Object(i.a)({},t),{},{id:"assay-name-input",placeholder:"Assay Name..."})),s.error&&s.submitFailed&&Object(f.jsx)("span",{children:s.error})]})})}}),Object(f.jsx)("div",{className:"row input-header",children:Object(f.jsxs)("div",{className:"col-12",children:[Object(f.jsx)("span",{className:"input-h4",children:"Reagents"}),Object(f.jsxs)("span",{style:{"white-space":"nowrap"},children:[Object(f.jsx)("button",{className:"button-form-array",type:"button",onClick:function(){return n("reagents",void 0)},children:Object(f.jsx)(_.a,{icon:U.e,color:"#3e8bd6",size:"md"})}),"\xa0",Object(f.jsx)("button",{className:"button-form-array",type:"button",onClick:function(){return r("reagents")},children:Object(f.jsx)(_.a,{icon:U.c,color:"#3e8bd6",size:"md"})})]})]})}),Object(f.jsx)(Pe.a,{name:"reagents",children:function(e){var t=e.fields;return t.map((function(e,s){return Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-10 col-xl-6",children:Object(f.jsx)(x.a,{name:"".concat(e,".label"),component:"input",placeholder:"Reagent Name"})}),Object(f.jsx)("div",{className:"col-1 my-auto",children:Object(f.jsx)("span",{onClick:function(){return t.remove(s)},style:{cursor:"pointer"},children:Object(f.jsx)(_.a,{icon:U.h,color:"grey",size:"md"})})})]},e)}))}})]}),Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("div",{className:"row input-header",children:Object(f.jsxs)("div",{className:"col-12",children:[Object(f.jsx)("span",{className:"input-h4",children:"Reagent Data"}),Object(f.jsx)("button",{className:"button-form-array",type:"button",onClick:function(){return n("reagentData",void 0)},children:Object(f.jsx)(_.a,{icon:U.e,color:"#3e8bd6",size:"md"})})," ",Object(f.jsx)("button",{className:"button-form-array",type:"button",onClick:function(){return r("reagentData")},children:Object(f.jsx)(_.a,{icon:U.c,color:"#3e8bd6",size:"md"})})]})}),Object(f.jsx)(Pe.a,{name:"reagentData",children:function(e){var t=e.fields;return t.map((function(e,s){return Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-5 xl-col-6",children:Object(f.jsx)(x.a,{name:"".concat(e,".label"),component:"input",placeholder:"Input Name"})}),Object(f.jsx)("div",{className:"col-2",children:Object(f.jsxs)(x.a,{name:"".concat(e,".type"),component:"select",defaultValue:"text",children:[Object(f.jsx)("option",{selected:!0,value:"text",children:"Text"}),Object(f.jsx)("option",{value:"date",children:"Date"})]})}),Object(f.jsx)("div",{className:"col-3",children:Object(f.jsxs)(x.a,{name:"".concat(e,".required"),component:"select",defaultValue:"true",children:[Object(f.jsx)("option",{selected:!0,value:"true",children:"Required"}),Object(f.jsx)("option",{value:"false",children:"Not Required"})]})}),Object(f.jsx)("div",{className:"col-1 my-auto",children:Object(f.jsx)("span",{onClick:function(){return t.remove(s)},style:{cursor:"pointer"},children:Object(f.jsx)(_.a,{icon:U.h,color:"grey",size:"md"})})})]},e)}))}}),Object(f.jsx)("div",{className:"row input-header",children:Object(f.jsxs)("div",{className:"col-12",children:[Object(f.jsx)("span",{className:"input-h4",children:"Other Inputs"}),Object(f.jsx)("button",{className:"button-form-array",type:"button",onClick:function(){return n("other",void 0)},children:Object(f.jsx)(_.a,{icon:U.e,color:"#3e8bd6",size:"md"})})," ",Object(f.jsx)("button",{className:"button-form-array",type:"button",onClick:function(){return r("other")},children:Object(f.jsx)(_.a,{icon:U.c,color:"#3e8bd6",size:"md"})})]})}),Object(f.jsx)(Pe.a,{name:"other",children:function(e){var t=e.fields;return t.map((function(e,s){return Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-5 xl-col-6",children:Object(f.jsx)(x.a,{name:"".concat(e,".label"),component:"input",placeholder:"Input Name"})}),Object(f.jsx)("div",{className:"col-2",children:Object(f.jsxs)(x.a,{name:"".concat(e,".type"),component:"select",defaultValue:"text",children:[Object(f.jsx)("option",{selected:!0,value:"text",children:"Text"}),Object(f.jsx)("option",{value:"date",children:"Date"})]})}),Object(f.jsx)("div",{className:"col-3",children:Object(f.jsxs)(x.a,{name:"".concat(e,".required"),component:"select",defaultValue:"true",children:[Object(f.jsx)("option",{selected:!0,value:"true",children:"Required"}),Object(f.jsx)("option",{value:"false",children:"Not Required"})]})}),Object(f.jsx)("div",{className:"col-1 my-auto",children:Object(f.jsx)("span",{onClick:function(){return t.remove(s)},style:{cursor:"pointer"},children:Object(f.jsx)(_.a,{icon:U.h,color:"grey",size:"md"})})})]},e)}))}}),Object(f.jsx)("div",{className:"container",children:Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("button",{className:"submit-button",type:"submit",disabled:c||a,children:"Submit"})})})]})]})}})})})})}),Object(f.jsx)("div",{className:"col-12 col-lg-8",children:Object(f.jsx)("div",{style:{"padding-top":"81px",paddingRight:"15px"},className:"row",children:Object(f.jsx)("div",{className:"col",children:Object(f.jsxs)(Me.a,{defaultActiveKey:"0",children:[Object(f.jsx)(Ae.a,{style:{display:this.state.dateSeries[0]?"block":"none"},children:Object(f.jsxs)(Ae.a.Header,{children:[Object(f.jsx)(Me.a.Toggle,{as:Ae.a.Header,variant:"link",eventKey:"0",children:this.state.dateSeries[0]?String(_e[Number(this.state.dateSeries[0].substring(5,7))-1])+" "+String(this.state.dateSeries[0].substring(0,4)):null}),Object(f.jsx)(Me.a.Collapse,{eventKey:"0",children:Object(f.jsx)(Ae.a.Body,{children:Object(f.jsx)("div",{className:"container",children:Object(f.jsx)("div",{className:"row",children:this.state.dateSeries[0]?this.state.assayTypes.map((function(t){return Number(t.createdAt.substring(5,7))==e.state.dateSeries[0].substring(5,7)?Object(f.jsx)(Ue,{ref:e.childRef,assayType:t,deleteTestType:e.props.deleteTestType},t._id):Object(f.jsx)("div",{})})):null})})})})]})},"0"),this.state.dateSeries.map((function(t){if(t!=e.state.dateSeries[0])return Object(f.jsx)(Ae.a,{children:Object(f.jsxs)(Ae.a.Header,{children:[Object(f.jsx)(Me.a.Toggle,{as:Ae.a.Header,variant:"link",eventKey:t.substring(5,7),children:Object(f.jsx)("a",{type:"button",children:String(_e[Number(t.substring(5,7))-1])+" "+String(t.substring(0,4))})}),Object(f.jsx)(Me.a.Collapse,{eventKey:t.substring(5,7),children:Object(f.jsx)(Ae.a.Body,{children:Object(f.jsx)("div",{className:"row",children:e.state.assayTypes.map((function(s){return Number(s.createdAt.substring(5,7))==t.substring(5,7)?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(Ue,{ref:e.childRef,assayType:s,deleteTestType:e.props.deleteTestType},s._id)}):null}))})})})]})},t.substring(0,7))}))]})})})})]})]})}}]),s}(n.Component),Be=s(61),ze="LOGIN_REQUEST",He="LOGIN_SUCCESS",Ge="LOGIN_FAILURE",Ve="LOGOUT_REQUEST",Je="LOGOUT_SUCCESS",qe="RENDER_USERS",We="USERS_LOADING",Ke="USERS_FAILED",Ye="ADD_USER",Qe="UPDATE_USER",Xe="RENDER_REAGENTS",Ze="RENDER_DELETED_REAGENTS",$e="REAGENTS_LOADING",et="REAGENTS_FALED",tt="ADD_REAGENT",st="UPDATE_REAGENT",nt="REMOVE_REAGENT",rt="RENDER_SEC_REAGENTS",at="RENDER_DELETED_SEC_REAGENTS",ct="SEC_REAGENTS_LOADING",it="SEC_REAGENTS_FAILED",lt="UPDATE_SEC_REAGENTS",ot="REMOVE_SEC_REAGENTS",dt="RENDER_TESTS",jt="TESTS_FAILED",ut="TESTS_FAILED",bt="UPDATE_TEST",pt="REMOVE_TESTS",ht="RENDER_TESTTYPES",xt="TESTTYPES_LOADING",Ot="TESTTYPES_FAILED",gt="ADD_TESTTYPE",mt="UPDATE_TESTTYPE",ft="REMOVE_TESTTYPE",vt="https://goshdrive.azurewebsites.net/",yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{errMess:null,testTypes:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ht:return Object(i.a)(Object(i.a)({},e),{},{isLoading:!1,errMess:null,testTypes:t.payload});case xt:return Object(i.a)(Object(i.a)({},e),{},{isLoading:!0,errMess:null,reagents:[]});case Ot:return Object(i.a)(Object(i.a)({},e),{},{isLoading:!1,errMess:t.payload,testTypes:[]});case gt:var s=t.payload;return Object(i.a)(Object(i.a)({},e),{},{testTypes:e.testTypes.concat(s)});case mt:s=t.payload;return Object(i.a)(Object(i.a)({},e),{},{testTypes:e.testTypes.filter((function(e){return"DELETED"!=e.status}))});case ft:s=t.payload;return Object(i.a)(Object(i.a)({},e),{},{testTypes:e.testTypes.filter((function(e){return e._id!==s._id}))});default:return e}},Nt=function(e){return{type:ze,userData:e}},wt=function(e){return{type:He,token:e.token}},St=function(e){return{type:Ge,message:e}},Rt=function(){return{type:Ve}},Et=function(){return{type:Je}},Tt=function(e){return{type:qe,payload:e}},Ct=function(e){return{type:Ke,payload:e}},kt=function(e){return{type:Ye,payload:e}},Dt=function(e){return{type:Qe,payload:e}},Ft=function(e){return{type:Xe,payload:e}},Pt=function(e){return{type:Ze,payload:e}},At=function(e){return{type:et,payload:e}},Mt=function(e){return{type:tt,payload:e}},Lt=function(e){return{type:st,payload:e}},_t=function(e){return{type:nt,payload:e}},Ut=function(e){return{type:rt,payload:e}},It=function(e){return{type:at,payload:e}},Bt=function(e){return{type:it,payload:e}},zt=function(e){return{type:lt,payload:e}},Ht=function(e){return{type:ot,payload:e}},Gt=function(e){return{type:dt,payload:e}},Vt=function(e){return{type:ut,payload:e}},Jt=function(e){return{type:bt,payload:e}},qt=function(e){return{type:pt,payload:e}},Wt=function(e){return{type:ht,payload:e}},Kt=function(e){return{type:gt,payload:e}},Yt=function(e){return{type:ft,payload:e}},Qt=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(e){return Object(o.a)(this,s),t.call(this,e)}return Object(d.a)(s,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&(this.props.fetchUsers(),this.props.fetchReagents(),this.props.fetchDeletedReagents(),this.props.fetchSecReagents(),this.props.fetchDeletedSecReagents(),this.props.fetchTests(),this.props.fetchTestTypes(),this.props.checkJWTToken())}},{key:"render",value:function(){var e=this,t=function(){return Object(f.jsx)(De,{auth:e.props.auth,logoutUser:e.props.logoutUser,reagents:e.props.reagents.reagents,deletedReagents:e.props.reagents.deletedReagents,fetchReagents:e.props.fetchReagents,reagentsErrMess:e.props.reagents.errMess,reagentsLoading:e.props.reagents.isLoading,postReagent:e.props.postReagent,deleteReagent:e.props.deleteReagent,putReagent:e.props.putReagent,secReagents:e.props.secReagents.secReagents,deletedSecReagents:e.props.secReagents.deletedSecReagents,fetchSecReagents:e.props.fetchSecReagents,secReagentsErrMess:e.props.secReagents.errMess,secReagentsLoading:e.props.secReagents.isLoading,deleteSecReagent:e.props.deleteSecReagent,putSecReagent:e.props.putSecReagent})},s=function(){return Object(f.jsx)(oe,{auth:e.props.auth,logoutUser:e.props.logoutUser,tests:function(){return e.props.tests.tests.filter((function(e){return"DELETED"!=e.status}))},deletedTests:function(){return e.props.tests.tests.filter((function(e){return"DELETED"==e.status}))},myTests:function(){return e.props.tests.tests.filter((function(t){return t.conductedByUsername==e.props.auth.user.username&&"DELETED"!=t.status}))},myDeletedTests:function(){return e.props.tests.tests.filter((function(t){return t.conductedByUsername==e.props.auth.user.username&&"DELETED"!=t.status}))},testsErrMess:e.props.tests.errMess,testsLoading:e.props.tests.isLoading,fetchTests:e.props.fetchTests,putTest:e.props.putTest,deleteTest:e.props.deleteTest})},n=function(t){var s=t.component,n=Object(l.a)(t,["component"]);return Object(f.jsx)(E.b,Object(i.a)(Object(i.a)({},n),{},{render:function(t){return e.props.auth.isAuthenticated?Object(f.jsx)(s,Object(i.a)({},t)):Object(f.jsx)(E.a,{to:{pathname:"/login",state:{from:t.location}}})}}))},r=function(t){var s=t.component,n=Object(l.a)(t,["component"]);return Object(f.jsx)(E.b,Object(i.a)(Object(i.a)({},n),{},{render:function(t){return e.props.auth.isAuthenticated&&JSON.parse(localStorage.getItem("userData")).supervisor?Object(f.jsx)(s,Object(i.a)({},t)):Object(f.jsx)(E.a,{to:{pathname:"/",state:{from:t.location}}})}}))},a=function(t){var s=t.component,n=Object(l.a)(t,["component"]);return Object(f.jsx)(E.b,Object(i.a)(Object(i.a)({},n),{},{render:function(t){return e.props.auth.isAuthenticated&&JSON.parse(localStorage.getItem("userData")).admin?Object(f.jsx)(s,Object(i.a)({},t)):Object(f.jsx)(E.a,{to:{pathname:"/",state:{from:t.location}}})}}))};return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(E.d,{children:[Object(f.jsx)(E.b,{path:"/login",component:function(){return Object(f.jsx)(D,{auth:e.props.auth,checkJWTToken:e.props.checkJWTToken,loginUser:e.props.loginUser,logoutUser:e.props.logoutUser,fetchUsers:e.props.fetchUsers,fetchReagents:e.props.fetchReagents,fetchDeletedReagents:e.props.fetchDeletedReagents,fetchSecReagents:e.props.fetchSecReagents,fetchDeletedSecReagents:e.props.fetchDeletedSecReagents,fetchTests:e.props.fetchTests,fetchTestTypes:e.props.fetchTestTypes})}}),Object(f.jsx)(n,{exact:!0,path:"/inventory/primary-reagents/overview",component:t}),Object(f.jsx)(n,{exact:!0,path:"/inventory/primary-reagents/recent",component:t}),Object(f.jsx)(n,{exact:!0,path:"/inventory/primary-reagents/deleted",component:t}),Object(f.jsx)(n,{exact:!0,path:"/inventory/secondary-reagents/overview",component:t}),Object(f.jsx)(n,{exact:!0,path:"/inventory/secondary-reagents/recent",component:t}),Object(f.jsx)(n,{exact:!0,path:"/inventory/secondary-reagents/deleted",component:t}),Object(f.jsx)(n,{exact:!0,path:"/testhistory/all-tests/overview",component:s}),Object(f.jsx)(n,{exact:!0,path:"/testhistory/all-tests/recent",component:s}),Object(f.jsx)(n,{exact:!0,path:"/testhistory/all-tests/deleted",component:s}),Object(f.jsx)(n,{exact:!0,path:"/testhistory/my-tests/overview",component:s}),Object(f.jsx)(n,{exact:!0,path:"/testhistory/my-tests/recent",component:s}),Object(f.jsx)(n,{exact:!0,path:"/testhistory/my-tests/deleted",component:s}),Object(f.jsx)(r,{exact:!0,path:"/assays",component:function(){return Object(f.jsx)(Ie,{testTypes:e.props.testTypes.testTypes,testTypesErrMess:e.props.testTypes.errMess,postTestType:e.props.postTestType,deleteTestType:e.props.deleteTestType,logoutUser:e.props.logoutUser})}}),Object(f.jsx)(n,{exact:!0,path:"/account",component:function(){return Object(f.jsx)(R,{auth:e.props.auth,logoutUser:e.props.logoutUser,putUser:e.props.putUser})}}),Object(f.jsx)(a,{exact:!0,path:"/admin",component:function(){return Object(f.jsx)(q,{users:e.props.users.users,putUser:e.props.putUser,postUser:e.props.postUser,fetchUsers:e.props.testTypes.errMess,usersErrMess:e.props.usersErrMess,logoutUser:e.props.logoutUser})}}),Object(f.jsx)(E.a,{to:"/inventory/primary-reagents/overview"})]})})}}]),s}(n.Component),Xt=Object(E.h)(Object(Be.b)((function(e){return{reagents:e.reagents,deletedReagents:e.deleteReagents,secReagents:e.secReagents,deletedSecReagents:e.deletedSecReagents,tests:e.tests,testTypes:e.testTypes,users:e.users,auth:e.auth}}),(function(e){return{checkJWTToken:function(){return e((function(e){var t="Bearer "+localStorage.getItem("token");return fetch(vt+"users/checkJWTToken",{headers:{"Content-Type":"application/json",Authorization:t}}).then((function(e){return e.json()})).then((function(e){if(!e.success){var t;if(e.success)throw(t=new Error("Error "+e.status)).response=e,t;throw localStorage.removeItem("token"),localStorage.removeItem("userData"),(t=new Error("Error "+e.err.name)).response=e,t}})).catch((function(t){return e(St(t.message))}))}))},loginUser:function(t){return e(function(e){return function(t){return fetch(vt+"users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){if(!e.success){var s=new Error("Error "+e.status);throw s.response=e,s}localStorage.setItem("token",e.token),localStorage.setItem("userData",JSON.stringify(e.user)),localStorage.setItem("showDeletedUsers",!1),t(Nt(e.user)),t(wt(e))})).catch((function(e){return t(St(e.message))}))}}(t))},logoutUser:function(){return e((function(e){e(Rt()),localStorage.removeItem("token"),localStorage.removeItem("creds"),localStorage.removeItem("showDeletedUsers"),e(Et())}))},fetchUsers:function(){return e((function(e){var t="Bearer "+localStorage.getItem("token");return fetch(vt+"users",{headers:{"Content-Type":"application/json",Authorization:t}}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(t){return e(Tt(t))})).catch((function(t){return e(Ct(t.message))}))}))},postUser:function(t){return e(function(e){return function(t){var s="Bearer "+localStorage.getItem("token");return fetch(vt+"users/signup",{method:"post",headers:{"Content-Type":"application/json",Authorization:s},body:JSON.stringify(e)}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){return t(kt(e.user))})).catch((function(e){console.log("User",e.message),alert("Registration failed")}))}}(t))},putUser:function(t,s){return e(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(s){var n="Bearer "+localStorage.getItem("token");return fetch(vt+"users/"+e._id+"?setpassword="+t,{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:n},credentials:"same-origin"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(e){s(Dt(e))})).catch((function(e){console.log("Update User Info.",e.message),alert("Update could not be performed. \nError: "+e.message)}))}}(t,s))},putReagent:function(t,s){e(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(s){var n="Bearer "+localStorage.getItem("token");return fetch(vt+"reagents/"+e._id+"?action="+t,{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:n},credentials:"same-origin"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(e){s(Lt(e))})).catch((function(e){console.log("Post reagents",e.message),alert("Reagent could not be posted\nError: "+e.message)}))}}(t,s))},deleteReagent:function(t){e(function(e){return function(t){var s="Bearer "+localStorage.getItem("token");return fetch(vt+"reagents/"+e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:s},credentials:"same-origin"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(e){t(_t(e))})).catch((function(e){console.log("Delete reagents",e.message),alert("Reagent could not be deleted\nError: "+e.message)}))}}(t))},postReagent:function(t,s,n,r,a,c,i,l){return e(function(e,t,s,n,r,a,c,i){return function(l){var o="Bearer "+localStorage.getItem("token"),d={unit:e,reagentName:t,supplier:s,lotNr:n,catNr:r,expiryDate:a,dateReceived:c,storageLocation:i};return fetch(vt+"reagents",{method:"POST",body:JSON.stringify(d),headers:{"Content-Type":"application/json",Authorization:o},credentials:"same-origin"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(e){return l(Mt(e))})).catch((function(e){console.log("Post reagents",e.message),alert("Reagent could not be posted\nError: "+e.message)}))}}(t,s,n,r,a,c,i,l))},fetchReagents:function(){e(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){var s="Bearer "+localStorage.getItem("token");return fetch(vt+"reagents?deleted="+e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:s}}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(e){return t(Ft(e))})).catch((function(e){return t(At(e.message))}))}}())},fetchDeletedReagents:function(){e(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var s="Bearer "+localStorage.getItem("token");return fetch(vt+"reagents?deleted="+e,{headers:{"Content-Type":"application/json",Authorization:s}}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(e){return t(Pt(e))})).catch((function(e){return t(At(e.message))}))}}())},fetchSecReagents:function(){e(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){var s="Bearer "+localStorage.getItem("token");return fetch(vt+"secondary-reagents?deleted="+e,{headers:{"Content-Type":"application/json",Authorization:s}}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(e){return t(Ut(e))})).catch((function(e){return t(Bt(e.message))}))}}())},fetchDeletedSecReagents:function(){e(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var s="Bearer "+localStorage.getItem("token");return fetch(vt+"secondary-reagents?deleted="+e,{headers:{"Content-Type":"application/json",Authorization:s}}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(e){return t(It(e))})).catch((function(e){return t(Bt(e.message))}))}}())},putSecReagent:function(t,s){e(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(s){var n="Bearer "+localStorage.getItem("token");return fetch(vt+"secondary-reagents/"+e._id+"?action="+t,{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:n},credentials:"same-origin"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(e){s(zt(e))})).catch((function(e){console.log("Post reagents",e.message),alert("Reagent could not be posted\nError: "+e.message)}))}}(t,s))},deleteSecReagent:function(t){e(function(e){return function(t){var s="Bearer "+localStorage.getItem("token");return fetch(vt+"secondary-reagents/"+e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:s},credentials:"same-origin"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(e){t(Ht(e))})).catch((function(e){console.log("Delete reagents",e.message),alert("Reagent could not be deleted\nError: "+e.message)}))}}(t))},fetchTests:function(){e((function(e){var t="Bearer "+localStorage.getItem("token");return fetch(vt+"tests",{headers:{"Content-Type":"application/json",Authorization:t}}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(t){return e(Gt(t))})).catch((function(t){return e(Vt(t.message))}))}))},putTest:function(t){e(function(e){return function(t){var s="Bearer "+localStorage.getItem("token");return fetch(vt+"tests/"+e._id,{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:s},credentials:"same-origin"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(e){t(Jt(e))})).catch((function(e){console.log("Post reagents",e.message),alert("Reagent could not be posted\nError: "+e.message)}))}}(t))},deleteTest:function(t){e(function(e){return function(t){var s="Bearer "+localStorage.getItem("token");return fetch(vt+"tests/"+e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:s},credentials:"same-origin"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(e){t(qt(e))})).catch((function(e){console.log("Delete reagents",e.message),alert("Reagent could not be deleted\nError: "+e.message)}))}}(t))},fetchTestTypes:function(){e((function(e){var t="Bearer "+localStorage.getItem("token");return fetch(vt+"test-types",{headers:{"Content-Type":"application/json",Authorization:t}}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(t){return e(Wt(t))})).catch((function(t){return e(At(t.message))}))}))},postTestType:function(t){e(function(e){return function(t){var s="Bearer "+localStorage.getItem("token");return fetch(vt+"test-types",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:s},credentials:"same-origin"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(e){return t(Kt(e))})).catch((function(e){console.log("Post reagents",e.message),alert("Reagent could not be posted\nError: "+e.message)}))}}(t))},deleteTestType:function(t){e(function(e){return function(t){var s="Bearer "+localStorage.getItem("token");return fetch(vt+"test-types/"+e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:s},credentials:"same-origin"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(e){t(Yt(e))})).catch((function(e){console.log("Delete reagents",e.message),alert("Reagent could not be deleted\nError: "+e.message)}))}}(t))}}}))(Qt)),Zt=(s(149),s(48)),$t=s(46),es=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1,isAuthenticated:!!localStorage.getItem("token"),token:localStorage.getItem("token"),user:localStorage.getItem("userData")?JSON.parse(localStorage.getItem("userData")):null,errMess:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ze:return Object(i.a)(Object(i.a)({},e),{},{isLoading:!0,isAuthenticated:!1,user:t.creds});case He:return Object(i.a)(Object(i.a)({},e),{},{isLoading:!1,isAuthenticated:!0,errMess:"",token:t.token});case Ge:return Object(i.a)(Object(i.a)({},e),{},{isLoading:!1,isAuthenticated:!1,errMess:t.message});case Ve:return Object(i.a)(Object(i.a)({},e),{},{isLoading:!0,isAuthenticated:!0});case Je:return Object(i.a)(Object(i.a)({},e),{},{isLoading:!1,isAuthenticated:!1,token:"",user:null});default:return e}},ts=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qe:return Object(i.a)(Object(i.a)({},e),{},{isLoading:!1,errMess:null,users:t.payload});case We:return Object(i.a)(Object(i.a)({},e),{},{isLoading:!0,errMess:null,users:[]});case Ke:return Object(i.a)(Object(i.a)({},e),{},{isLoading:!1,errMess:t.payload,users:[]});case Ye:var s=t.payload;return Object(i.a)(Object(i.a)({},e),{},{users:e.users.concat(s)});case Qe:s=t.payload;var n=e.users.slice(),r=n.findIndex((function(e){return e._id==s._id}));return n[r]=s,Object(i.a)(Object(i.a)({},e),{},{users:n});default:return e}},ss=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{errMess:null,isLoading:!0,reagents:[],deletedReagents:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xe:return console.log(t.payload),Object(i.a)(Object(i.a)({},e),{},{isLoading:!1,errMess:null,reagents:t.payload});case Ze:return console.log(t.payload),Object(i.a)(Object(i.a)({},e),{},{isLoading:!1,errMess:null,deletedReagents:t.payload});case $e:return Object(i.a)(Object(i.a)({},e),{},{isLoading:!0,errMess:null,reagents:[],deletedReagents:[]});case et:return Object(i.a)(Object(i.a)({},e),{},{isLoading:!1,errMess:t.payload,reagents:[],deletedReagents:[]});case tt:var s=t.payload;return Object(i.a)(Object(i.a)({},e),{},{reagents:e.reagents.concat(s)});case st:if("DELETED"==(s=t.payload).status)return Object(i.a)(Object(i.a)({},e),{},{reagents:e.reagents.filter((function(e){return e._id!==s._id})),deletedReagents:e.deletedReagents.concat(s)});var n=e.reagents.slice(),r=n.findIndex((function(e){return e._id==s._id}));n[r]=s;var a=e.deletedReagents.filter((function(e){return e._id!==s._id}));return Object(i.a)(Object(i.a)({},e),{},{reagents:n,deletedReagents:a});case nt:s=t.payload._id;return Object(i.a)(Object(i.a)({},e),{},{reagents:e.reagents.filter((function(e){return e._id!==s}))});default:return e}},ns=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{errMess:null,isLoading:!0,secReagents:[],deletedSecReagents:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case rt:return console.log(t.payload),Object(i.a)(Object(i.a)({},e),{},{isLoading:!1,errMess:null,secReagents:t.payload});case at:return console.log(t.payload),Object(i.a)(Object(i.a)({},e),{},{isLoading:!1,errMess:null,deletedSecReagents:t.payload});case ct:return Object(i.a)(Object(i.a)({},e),{},{isLoading:!0,errMess:null,secReagents:[],deletedSecReagents:[]});case it:return Object(i.a)(Object(i.a)({},e),{},{isLoading:!1,errMess:t.payload,secReagents:[],deletedSecReagents:[]});case lt:if("DELETED"==(a=t.payload).status)return Object(i.a)(Object(i.a)({},e),{},{secReagents:e.secReagents.filter((function(e){return e._id!==a._id})),deletedSecReagents:e.deletedSecReagents.concat(a)});var s=e.secReagents.slice(),n=s.findIndex((function(e){return e._id==a._id}));s[n]=a;var r=e.deletedSecReagents.filter((function(e){return e._id!==a._id}));return Object(i.a)(Object(i.a)({},e),{},{secReagents:s,deletedSecReagents:r});case ot:var a=t.payload._id;return Object(i.a)(Object(i.a)({},e),{},{secReagents:e.secReagents.filter((function(e){return e._id!==a}))});default:return e}},rs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,tests:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dt:return Object(i.a)(Object(i.a)({},e),{},{isLoading:!1,errMess:null,tests:t.payload});case jt:return Object(i.a)(Object(i.a)({},e),{},{isLoading:!0,errMess:null,tests:[]});case ut:return Object(i.a)(Object(i.a)({},e),{},{isLoading:!1,errMess:t.payload,tests:[]});case bt:if("DELETED"==(s=t.payload).status)return Object(i.a)(Object(i.a)({},e),{},{tests:e.tests.filter((function(e){return e._id!==s._id}))});case pt:var s=t.payload._id;return Object(i.a)(Object(i.a)({},e),{},{tests:e.tests.filter((function(e){return e._id!==s}))});default:return e}},as=s(83),cs=s(84),is=s.n(cs),ls=Object($t.d)(Object($t.c)({reagents:ss,secReagents:ns,tests:rs,testTypes:yt,auth:es,users:ts}),Object($t.a)(as.a,is.a));var os=function(){return Object(f.jsx)(Be.a,{store:ls,children:Object(f.jsx)(Zt.a,{children:Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(Xt,{})})})})},ds=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,157)).then((function(t){var s=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;s(e),n(e),r(e),a(e),c(e)}))};c.a.render(Object(f.jsx)(os,{}),document.getElementById("root")),ds()},32:function(e,t,s){},91:function(e,t,s){}},[[150,1,2]]]);
//# sourceMappingURL=main.7cafffe7.chunk.js.map